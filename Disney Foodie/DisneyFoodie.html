<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Disneyland Halloween Foodie Checklist 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Creepster&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1a1a2e;
            color: #e0e0e0;
        }
        .title-font {
            font-family: 'Creepster', cursive;
        }
        .checklist-item, .restaurant-section {
            transition: all 0.3s ease;
            transform-origin: center;
        }
        .checklist-item.removing, .restaurant-section.removing {
            transform: scale(0);
            opacity: 0;
        }
        .park-section {
            border: 2px solid;
            border-image: linear-gradient(135deg, #fb923c, #a855f7, #fb923c) 1;
            border-radius: 1rem;
            padding: 1rem;
            margin-bottom: 0.75rem;
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.05) 0%, transparent 50%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.03) 0%, transparent 50%),
                linear-gradient(135deg, #1e1b2e 0%, #2d1b3d 50%, #1e1b2e 100%);
            box-shadow: 
                0 20px 40px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(251, 146, 60, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .park-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 10% 20%, rgba(251, 146, 60, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(168, 85, 247, 0.08) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .park-section > * {
            position: relative;
            z-index: 1;
        }

        .park-section:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.5),
                0 0 30px rgba(251, 146, 60, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }
        .hidden-section {
            display: none !important;
        }
        .action-button {
            background: 
                linear-gradient(135deg, #4a4a6a 0%, #5a5a7a 50%, #4a4a6a 100%);
            border: 2px solid #6a6a8a;
            color: #e0e0e0;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            cursor: pointer;
            box-shadow: 
                0 4px 8px rgba(0, 0, 0, 0.3),
                0 0 8px rgba(251, 146, 60, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            position: relative;
            overflow: hidden;
        }

        .action-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(251, 146, 60, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .action-button:hover::before {
            left: 100%;
        }

        .action-button:hover:not(:disabled) {
            background: 
                linear-gradient(135deg, #6a6a8a 0%, #7a7a9a 50%, #6a6a8a 100%);
            border-color: #8a8aac;
            transform: translateY(-2px);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.4),
                0 0 16px rgba(251, 146, 60, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
        }

        .action-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        #header-container {
            padding: 1rem 0;
            margin-bottom: 0.75rem;
        }

        /* Sticky header only on desktop */
        @media (min-width: 768px) {
            #header-container {
                position: sticky;
                top: 0;
                z-index: 100;
                margin: 0 -1rem;
                padding: 1rem 1rem 0.5rem 1rem;
            }
            
            #header-container::before {
                content: '';
                position: absolute;
                top: 0;
                left: 1rem;
                right: 1rem;
                bottom: 0;
                background: 
                    linear-gradient(135deg, rgba(17, 24, 39, 0.95) 0%, rgba(31, 41, 55, 0.98) 50%, rgba(17, 24, 39, 0.95) 100%);
                backdrop-filter: blur(10px);
                border-bottom: 1px solid rgba(251, 146, 60, 0.2);
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
                z-index: -1;
            }
        }
        .remove-button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            width: 24px;
            height: 24px;
            flex-shrink: 0;
            margin-left: 8px;
        }
        .remove-button svg {
            transition: transform 0.2s ease;
        }
        .remove-button:hover svg {
            transform: scale(1.2);
        }

        /* --- Spooky Theming --- */
        
        .checklist-item input[type="checkbox"] {
            display: none;
        }

        .checklist-item {
            position: relative;
            display: flex;
            align-items: flex-start;
            padding: 12px;
            gap: 12px;
        }


        .checklist-item label {
            cursor: pointer;
            transition: color 0.3s ease;
            font-weight: 600;
            color: #e5e7eb; /* gray-200 */
            flex-grow: 1;
            min-height: 24px;
        }
        
        .pumpkin-icon {
            width: 24px;
            height: 24px;
            display: flex;
            align-items: flex-start;
            justify-content: center;
            font-size: 18px;
            opacity: 0.6;
            transition: all 0.3s ease;
            filter: grayscale(100%);
            flex-shrink: 0;
            line-height: 1;
        }

        .checklist-item:has(input:checked) .pumpkin-icon {
            opacity: 1;
            filter: grayscale(0%);
            transform: scale(1.1);
        }

        .remove-button {
            width: 18px;
            height: 18px;
            flex-shrink: 0;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0;
            align-self: flex-start;
        }

        /* Swipe to delete functionality */
        .checklist-item {
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.03) 0%, transparent 40%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.02) 0%, transparent 40%),
                linear-gradient(135deg, #1f2937 0%, #374151 50%, #1f2937 100%);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 8px rgba(251, 146, 60, 0.05),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(75, 85, 99, 0.3);
        }

        .checklist-item::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 5% 30%, rgba(251, 146, 60, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 95% 70%, rgba(168, 85, 247, 0.05) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .checklist-item > * {
            position: relative;
            z-index: 1;
        }

        .checklist-item:hover {
            transform: translateY(-1px);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 16px rgba(251, 146, 60, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .checklist-item.swiping {
            transform: translateX(-80px);
        }

        .swipe-delete-bg {
            position: absolute;
            right: 0;
            top: 0;
            bottom: 0;
            width: 80px;
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 0.875rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            z-index: -1;
        }

        .checklist-item.swiping .swipe-delete-bg {
            opacity: 1;
            z-index: 0;
        }
        
        .checklist-item:has(input:checked) {
            position: relative;
            color: #a0a0a0;
        }
        .checklist-item:has(input:checked) label,
        .checklist-item:has(input:checked) p {
            text-decoration: line-through;
            text-decoration-color: #ef4444;
            text-decoration-thickness: 2px;
            color: #a0a0a0;
        }

        /* Scroll to top button */
        #scroll-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #4a4a6a;
            color: #e0e0e0;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            visibility: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            border: 2px solid #6a6a8a;
            z-index: 100;
        }

        /* Mobile adjustments */
        @media (max-width: 768px) {
            #scroll-to-top {
                bottom: 15px;
                right: 15px;
                width: 44px;
                height: 44px;
            }

            #info-icon {
                bottom: 70px;
                right: 15px;
                width: 44px;
                height: 44px;
                font-size: 16px;
            }

            .modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .warning-modal-content {
                padding: 1.5rem;
                margin: 1rem;
            }

            .modal-title {
                font-size: 2rem;
            }

            .warning-title {
                font-size: 1.75rem;
            }

            .action-button {
                padding: 0.625rem 1.25rem;
                font-size: 0.875rem;
            }

            .warning-buttons {
                flex-direction: column;
            }

            .warning-button {
                min-width: auto;
                width: 100%;
            }

            .checklist-item .remove-button svg {
                width: 16px;
                height: 16px;
            }


            .checklist-item {
                padding: 8px;
                gap: 8px;
            }

            .checklist-item label {
                text-align: left !important;
            }

            .checklist-item label p,
            .checklist-item label div {
                text-align: left !important;
                width: 100%;
            }

            .restaurant-section .remove-button {
                width: 32px;
                height: 32px;
            }

            #stats-grid {
                grid-template-columns: 1fr 1fr;
                gap: 0.75rem;
            }

            #stats-grid > div {
                padding: 0.625rem;
            }

            #header-container {
                padding: 0.25rem 0.25rem 0.25rem 0.25rem;
                margin-bottom: 0.25rem;
            }

            #header-container .mx-0 {
                margin-left: 0;
                margin-right: 0;
            }

            #checklist-container {
                padding-left: 0.25rem;
                padding-right: 0.25rem;
                max-width: 1432px;
                margin: 0 auto;
            }

            .park-section {
                padding: 0.25rem;
                margin-bottom: 0.5rem;
            }

            .restaurant-section {
                padding: 0.25rem;
                margin-bottom: 0.5rem;
            }

            .checklist-item {
                margin-bottom: 0.5rem;
            }

            .space-y-2 > * + * {
                margin-top: 0.5rem;
            }

            .space-y-4 > * + * {
                margin-top: 0.75rem;
            }

            .park-section-header {
                margin-bottom: 0.75rem;
                padding-bottom: 0.5rem;
            }

            .title-font {
                font-size: 2.5rem !important;
                line-height: 1.1;
            }

            #stats-grid > div .text-lg {
                font-size: 0.875rem;
            }

            #stats-grid > div .text-purple-300 {
                font-size: 0.875rem;
            }

            #stats-grid > div .text-sm {
                font-size: 0.75rem;
            }

            .flex.flex-col.md\\:flex-row {
                gap: 0.75rem;
            }

            .flex.gap-4 {
                gap: 0.75rem;
            }

            input[type="text"], select {
                padding: 0.625rem;
                font-size: 0.875rem;
            }

            /* Collapsible header on mobile */
            #stats-grid {
                max-height: 0;
                overflow: hidden;
                opacity: 0;
                transition: all 0.3s ease;
                margin-bottom: 0;
            }

            #stats-grid.expanded {
                max-height: 500px;
                opacity: 1;
                margin-bottom: 0.5rem;
            }

            #overall-progress {
                display: block;
                background: #374151;
                padding: 1rem;
                border-radius: 0.75rem;
                margin-bottom: 0.5rem;
                cursor: pointer;
                transition: all 0.2s ease;
                text-align: center;
            }

            #overall-progress:hover {
                background: #4b5563;
            }

            #overall-progress .expand-icon {
                transition: transform 0.3s ease;
                display: inline-block;
                margin-left: 0.5rem;
            }

            #overall-progress.expanded .expand-icon {
                transform: rotate(180deg);
            }

            /* Spooky Progress Bar */
            .progress-container {
                position: relative;
                width: 100%;
                height: 40px;
                background: linear-gradient(145deg, #1f2937 0%, #111827 100%);
                border-radius: 20px;
                border: 2px solid #4b5563;
                overflow: hidden;
                margin: 0.75rem 0;
                box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.6);
            }

            .progress-bar {
                height: 100%;
                width: 0%;
                background: linear-gradient(
                    45deg,
                    #dc2626 0%,
                    #ef4444 15%,
                    #f87171 30%,
                    #ef4444 45%,
                    #dc2626 60%,
                    #b91c1c 75%,
                    #991b1b 90%,
                    #7f1d1d 100%
                );
                background-size: 40px 40px;
                border-radius: 18px;
                position: relative;
                transition: width 0.8s ease-out;
                animation: ooze 3s linear infinite;
                box-shadow: 
                    0 0 20px rgba(239, 68, 68, 0.4),
                    inset 0 2px 8px rgba(255, 255, 255, 0.1);
            }

            .progress-bar::before {
                content: '';
                position: absolute;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                background: linear-gradient(
                    90deg,
                    transparent 0%,
                    rgba(255, 255, 255, 0.1) 50%,
                    transparent 100%
                );
                animation: shimmer 2s linear infinite;
            }

            .progress-bar::after {
                content: '';
                position: absolute;
                top: 2px;
                left: 2px;
                right: 2px;
                height: 8px;
                background: linear-gradient(
                    90deg,
                    rgba(248, 113, 113, 0.8) 0%,
                    rgba(239, 68, 68, 0.4) 100%
                );
                border-radius: 15px;
                filter: blur(1px);
            }

            @keyframes ooze {
                0% { background-position: 0px 0px; }
                100% { background-position: 40px 0px; }
            }

            @keyframes shimmer {
                0% { transform: translateX(-100%); }
                100% { transform: translateX(200%); }
            }

            .progress-text {
                position: absolute;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                font-weight: bold;
                font-size: 0.875rem;
                text-shadow: 
                    0 0 8px rgba(0, 0, 0, 0.8),
                    1px 1px 2px rgba(0, 0, 0, 1);
                z-index: 10;
                color: #f3f4f6;
                pointer-events: none;
            }

            /* Progress bar bubbles effect */
            .progress-container::after {
                content: '';
                position: absolute;
                top: 15%;
                left: 10%;
                width: 4px;
                height: 4px;
                background: rgba(248, 113, 113, 0.6);
                border-radius: 50%;
                animation: bubble1 4s ease-in-out infinite;
            }

            .progress-container::before {
                content: '';
                position: absolute;
                top: 25%;
                right: 20%;
                width: 3px;
                height: 3px;
                background: rgba(220, 38, 38, 0.5);
                border-radius: 50%;
                animation: bubble2 3.5s ease-in-out infinite 1s;
                z-index: 5;
            }

            @keyframes bubble1 {
                0%, 100% { transform: translateY(0) scale(1); opacity: 0; }
                20% { opacity: 1; }
                50% { transform: translateY(-8px) scale(1.2); opacity: 0.8; }
                80% { opacity: 0.4; }
            }

            @keyframes bubble2 {
                0%, 100% { transform: translateY(0) scale(1); opacity: 0; }
                30% { opacity: 1; }
                60% { transform: translateY(-10px) scale(1.3); opacity: 0.6; }
                90% { opacity: 0.2; }
            }
        }

        /* Desktop - show full stats grid normally */
        @media (min-width: 768px) {
            #stats-grid {
                max-height: none !important;
                opacity: 1 !important;
                margin-bottom: 1rem !important;
            }

            .w-full {
                max-width: 1400px;
                margin: 0 auto;
            }

            #header-container {
                padding: 1rem 1rem 0.5rem 1rem;
            }

            #checklist-container {
                padding-left: 1rem;
                padding-right: 1rem;
                max-width: 1432px;
                margin: 0 auto;
            }

            #header-container .mx-1 {
                margin-left: 0.25rem;
                margin-right: 0.25rem;
            }

            .park-section {
                padding: 1rem;
                margin-bottom: 0.75rem;
            }

            .restaurant-section {
                padding: 0.75rem;
                margin-bottom: 0.75rem;
            }
        }

        /* Touch improvements */
        @media (hover: none) and (pointer: coarse) {
            .remove-button:hover svg {
                transform: none;
            }

            .action-button:hover:not(:disabled) {
                transform: none;
            }

            #scroll-to-top:hover {
                transform: none;
            }

            #info-icon:hover {
                transform: none;
            }
        }

        /* Focus states for better accessibility */
        .action-button:focus-visible,
        .modal-button:focus-visible,
        .warning-button:focus-visible {
            outline: 2px solid #fb923c;
            outline-offset: 2px;
        }

        #scroll-to-top:focus-visible,
        #info-icon:focus-visible {
            outline: 2px solid #fb923c;
            outline-offset: 2px;
        }

        input[type="text"]:focus-visible,
        select:focus-visible {
            outline: 2px solid #fb923c;
            outline-offset: 2px;
        }

        #scroll-to-top:hover {
            background-color: #6a6a8a;
            transform: translateY(-2px);
        }

        #scroll-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        /* Collapsible sections */
        .park-section-header {
            cursor: pointer;
            user-select: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            margin: -1rem -1rem 1rem -1rem;
            border-radius: 1rem 1rem 0 0;
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.1) 0%, transparent 50%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.05) 0%, transparent 50%);
            border-bottom: 1px solid rgba(75, 85, 99, 0.2);
            transition: all 0.3s ease;
        }

        .park-section-header:hover {
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.15) 0%, transparent 50%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.08) 0%, transparent 50%);
        }

        .park-header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex: 1;
            gap: 1rem;
        }

        .park-header-title {
            font-family: 'Creepster', cursive;
            font-size: 2rem;
            color: #fb923c;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .park-header-progress {
            font-size: 0.875rem;
            font-weight: 600;
            white-space: nowrap;
            background: linear-gradient(135deg, #a855f7 0%, #c084fc 50%, #a855f7 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: #a855f7;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            border: 1px solid rgba(168, 85, 247, 0.3);
            background-color: rgba(168, 85, 247, 0.1);
            backdrop-filter: blur(4px);
            box-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.2),
                0 0 8px rgba(168, 85, 247, 0.2);
            position: relative;
            overflow: hidden;
            margin-right: 1rem;
        }

        .park-header-progress::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.3), transparent);
            animation: shimmer-progress 3s ease-in-out infinite;
        }

        @keyframes shimmer-progress {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        /* Enhanced Stats Grid Cards */
        #stats-grid > div {
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.06) 0%, transparent 50%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.04) 0%, transparent 50%),
                linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(55, 65, 81, 0.95) 50%, rgba(31, 41, 55, 0.9) 100%);
            border: 2px solid;
            border-image: linear-gradient(135deg, #fb923c, #a855f7, #fb923c) 1;
            border-radius: 0.75rem;
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.3),
                0 0 12px rgba(251, 146, 60, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        #stats-grid > div::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 10% 20%, rgba(251, 146, 60, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 90% 80%, rgba(168, 85, 247, 0.03) 0%, transparent 50%);
            pointer-events: none;
        }

        #stats-grid > div:hover {
            transform: translateY(-2px);
            box-shadow: 
                0 12px 24px rgba(0, 0, 0, 0.4),
                0 0 24px rgba(251, 146, 60, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.15);
            border-image: linear-gradient(135deg, #fb923c, #fbbf24, #a855f7, #fb923c) 1;
        }

        #stats-grid .text-orange-400 {
            text-shadow: 0 0 8px rgba(251, 146, 60, 0.4);
            font-weight: 700;
        }

        #stats-grid .text-purple-300 {
            font-size: 0.875rem;
            font-weight: 600;
            white-space: nowrap;
            background: linear-gradient(135deg, #a855f7 0%, #c084fc 50%, #a855f7 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: #a855f7;
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            border: 1px solid rgba(168, 85, 247, 0.3);
            background-color: rgba(168, 85, 247, 0.1);
            backdrop-filter: blur(4px);
            box-shadow: 
                0 2px 4px rgba(0, 0, 0, 0.2),
                0 0 8px rgba(168, 85, 247, 0.2);
            position: relative;
            overflow: hidden;
            display: inline-block;
        }

        #stats-grid .text-purple-300::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(168, 85, 247, 0.3), transparent);
            animation: shimmer-progress 3s ease-in-out infinite;
        }

        #stats-grid .text-purple-400 {
            color: #c084fc;
            font-weight: 500;
        }

        /* Themed Form Controls */
        .themed-input,
        .themed-select {
            background: 
                linear-gradient(135deg, rgba(251, 146, 60, 0.05) 0%, transparent 50%),
                linear-gradient(45deg, rgba(168, 85, 247, 0.03) 0%, transparent 50%),
                linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(55, 65, 81, 0.95) 50%, rgba(31, 41, 55, 0.9) 100%);
            border: 2px solid rgba(251, 146, 60, 0.3);
            border-radius: 0.75rem;
            padding: 0.75rem 1rem;
            color: #e5e7eb;
            font-weight: 500;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 8px rgba(0, 0, 0, 0.3),
                0 0 8px rgba(251, 146, 60, 0.1),
                inset 0 1px 0 rgba(255, 255, 255, 0.05);
            position: relative;
        }

        .themed-input::placeholder {
            color: #9ca3af;
            font-weight: 500;
        }

        .themed-input:focus,
        .themed-select:focus {
            outline: none;
            border-color: rgba(251, 146, 60, 0.6);
            box-shadow: 
                0 8px 16px rgba(0, 0, 0, 0.4),
                0 0 20px rgba(251, 146, 60, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            transform: translateY(-1px);
        }

        .themed-input:hover,
        .themed-select:hover {
            border-color: rgba(251, 146, 60, 0.5);
            box-shadow: 
                0 6px 12px rgba(0, 0, 0, 0.35),
                0 0 15px rgba(251, 146, 60, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.08);
        }

        .themed-select option {
            background: #1f2937;
            color: #e5e7eb;
            padding: 0.5rem;
        }

        /* Halloween decorative border */
        .themed-input::before,
        .themed-select::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #fb923c, #a855f7, #fb923c, #a855f7);
            border-radius: 0.75rem;
            z-index: -1;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .themed-input:focus::before,
        .themed-select:focus::before {
            opacity: 0.3;
            animation: border-glow 2s ease-in-out infinite alternate;
        }

        @keyframes border-glow {
            0% { opacity: 0.2; }
            100% { opacity: 0.5; }
        }

        .park-header-controls {
            display: flex;
            align-items: center;
            margin-left: auto;
        }

        @media (max-width: 768px) {
            .park-header-controls {
                margin-left: auto;
            }
            .park-header-progress {
                font-size: 0.75rem;
                padding: 0.2rem 0.5rem;
            }
        }


        .park-section-content {
            transition: all 0.3s ease;
            max-height: 9999px;
            opacity: 1;
        }

        .park-section-content.collapsed {
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }

        /* Welcome Modal */
        #welcome-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        #welcome-modal.show {
            opacity: 1;
            visibility: visible;
        }

        #welcome-modal.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #24243e 100%);
            border: 2px solid #4a4a6a;
            border-radius: 1rem;
            padding: 2rem;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            position: relative;
            text-align: center;
        }

        .modal-header {
            margin-bottom: 0.75rem;
        }

        .modal-title {
            font-family: 'Creepster', cursive;
            font-size: 2.5rem;
            color: #fb923c;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .modal-body {
            text-align: left;
            margin-bottom: 2rem;
        }

        .instruction-list {
            list-style: none;
            padding: 0;
        }

        .instruction-list li {
            margin-bottom: 1rem;
            padding-left: 2rem;
            position: relative;
            color: #e0e0e0;
        }

        .instruction-list li::before {
            content: 'ðŸŽƒ';
            position: absolute;
            left: 0;
            top: 0;
        }

        .modal-footer {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .modal-button {
            background-color: #4a4a6a;
            border: 2px solid #6a6a8a;
            color: #e0e0e0;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .modal-button:hover {
            background-color: #6a6a8a;
            border-color: #8a8aac;
            transform: translateY(-1px);
        }

        .modal-button.primary {
            background-color: #fb923c;
            border-color: #ea580c;
        }

        .modal-button.primary:hover {
            background-color: #ea580c;
            border-color: #c2410c;
        }

        /* Info Icon */
        #info-icon {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: #4a4a6a;
            color: #e0e0e0;
            width: 48px;
            height: 48px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            border: 2px solid #6a6a8a;
            z-index: 99;
            font-size: 18px;
            font-weight: bold;
        }

        #info-icon:hover {
            background-color: #6a6a8a;
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 12px rgba(0,0,0,0.4);
        }

        /* Warning Modal */
        #warning-modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1001;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        #warning-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .warning-modal-content {
            background: linear-gradient(135deg, #1a1a2e 0%, #24243e 100%);
            border: 3px solid #ef4444;
            border-radius: 1rem;
            padding: 2rem;
            max-width: 400px;
            width: 90%;
            box-shadow: 0 20px 40px rgba(239, 68, 68, 0.3);
            position: relative;
            text-align: center;
            animation: shake 0.5s ease-in-out;
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }

        .warning-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            display: block;
        }

        .warning-title {
            font-family: 'Creepster', cursive;
            font-size: 2rem;
            color: #ef4444;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .warning-message {
            color: #e0e0e0;
            margin-bottom: 0.75rem;
            line-height: 1.5;
        }

        .warning-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .warning-button {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 2px solid;
            min-width: 120px;
        }

        .warning-button.cancel {
            background-color: #4a4a6a;
            border-color: #6a6a8a;
            color: #e0e0e0;
        }

        .warning-button.cancel:hover {
            background-color: #6a6a8a;
            border-color: #8a8aac;
            transform: translateY(-1px);
        }

        .warning-button.confirm {
            background-color: #ef4444;
            border-color: #dc2626;
            color: white;
        }

        .warning-button.confirm:hover {
            background-color: #dc2626;
            border-color: #b91c1c;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.4);
        }
        /* Enhanced Visual Depth & Atmosphere */
        body {
            background: 
                radial-gradient(circle at 20% 80%, rgba(251, 146, 60, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(168, 85, 247, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(251, 146, 60, 0.05) 0%, transparent 30%),
                linear-gradient(135deg, #0f172a 0%, #1e1b2e 25%, #2d1b3d 50%, #1e1b2e 75%, #0f172a 100%);
            background-attachment: fixed;
            position: relative;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-image: 
                radial-gradient(2px 2px at 20px 30px, rgba(251, 146, 60, 0.3), transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(168, 85, 247, 0.2), transparent),
                radial-gradient(1px 1px at 90px 40px, rgba(251, 146, 60, 0.2), transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(168, 85, 247, 0.1), transparent),
                radial-gradient(2px 2px at 160px 30px, rgba(251, 146, 60, 0.1), transparent);
            background-repeat: repeat;
            background-size: 200px 100px;
            opacity: 0.6;
            pointer-events: none;
            z-index: -1;
            animation: twinkle 4s ease-in-out infinite alternate;
        }

        @keyframes twinkle {
            0% { opacity: 0.4; }
            100% { opacity: 0.8; }
        }

        /* Floating Halloween Particles */
        .halloween-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .particle {
            position: absolute;
            font-size: 20px;
            opacity: 0.6;
            animation: float-down 15s linear infinite;
        }

        .particle.bat {
            font-size: 24px;
            color: #4a5568;
        }

        .particle.pumpkin {
            font-size: 18px;
        }

        .particle.leaf {
            font-size: 16px;
            color: #d97706;
        }

        @keyframes float-down {
            0% {
                transform: translateY(-100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.4;
            }
            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        /* Pumpkin Checkbox Animation */
        .pumpkin-checkbox {
            transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: inline-block;
        }

        .pumpkin-checkbox.checked {
            animation: pumpkin-bounce 0.6s ease-out, pumpkin-glow 0.8s ease-out;
            transform: scale(1.1);
        }

        @keyframes pumpkin-bounce {
            0% { transform: scale(1); }
            30% { transform: scale(1.3) rotate(-5deg); }
            60% { transform: scale(0.9) rotate(3deg); }
            80% { transform: scale(1.1) rotate(-1deg); }
            100% { transform: scale(1.1) rotate(0deg); }
        }

        @keyframes pumpkin-glow {
            0% { 
                filter: drop-shadow(0 0 0px #fb923c);
                text-shadow: none;
            }
            50% { 
                filter: drop-shadow(0 0 8px #fb923c);
                text-shadow: 0 0 10px #fb923c, 0 0 20px #fb923c;
            }
            100% { 
                filter: drop-shadow(0 0 3px #fb923c);
                text-shadow: 0 0 5px #fb923c;
            }
        }

        /* Enhanced Button Interactions */
        .ripple-container {
            position: relative;
            overflow: hidden;
        }

        .ripple {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(251, 146, 60, 0.4) 0%, rgba(251, 146, 60, 0.1) 50%, transparent 100%);
            transform: scale(0);
            animation: ripple-effect 0.6s ease-out;
            pointer-events: none;
        }

        @keyframes ripple-effect {
            0% {
                transform: scale(0);
                opacity: 1;
            }
            100% {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Particle Burst Effect */
        .particle-burst {
            position: absolute;
            pointer-events: none;
            z-index: 1000;
        }

        .burst-particle {
            position: absolute;
            width: 6px;
            height: 6px;
            border-radius: 50%;
            animation: burst-particle 0.8s ease-out forwards;
        }

        .burst-particle.orange {
            background: #fb923c;
            box-shadow: 0 0 6px #fb923c;
        }

        .burst-particle.purple {
            background: #a855f7;
            box-shadow: 0 0 6px #a855f7;
        }

        @keyframes burst-particle {
            0% {
                transform: scale(1) translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: scale(0) translate(var(--dx), var(--dy));
                opacity: 0;
            }
        }

        /* Atmospheric Background */
        .atmospheric-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -2;
            overflow: hidden;
        }

        .fog-layer {
            position: absolute;
            width: 150%;
            height: 150%;
            background: radial-gradient(ellipse at center, 
                rgba(251, 146, 60, 0.03) 0%,
                rgba(168, 85, 247, 0.02) 25%,
                transparent 50%);
            animation: drift 20s ease-in-out infinite;
        }

        .fog-layer:nth-child(1) {
            top: -25%;
            left: -25%;
            animation-duration: 25s;
            animation-delay: 0s;
        }

        .fog-layer:nth-child(2) {
            top: -50%;
            right: -25%;
            animation-duration: 18s;
            animation-delay: -5s;
            animation-direction: reverse;
        }

        .fog-layer:nth-child(3) {
            bottom: -25%;
            left: -50%;
            animation-duration: 22s;
            animation-delay: -10s;
        }

        @keyframes drift {
            0%, 100% {
                transform: translate(0, 0) rotate(0deg);
            }
            33% {
                transform: translate(30px, -20px) rotate(1deg);
            }
            66% {
                transform: translate(-20px, 10px) rotate(-1deg);
            }
        }

        .gradient-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(40px);
            animation: float-orb 15s ease-in-out infinite;
            opacity: 0.1;
        }

        .orb-1 {
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, #fb923c 0%, transparent 70%);
            top: 20%;
            left: 10%;
            animation-duration: 20s;
        }

        .orb-2 {
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, #a855f7 0%, transparent 70%);
            top: 60%;
            right: 15%;
            animation-duration: 25s;
            animation-delay: -8s;
        }

        .orb-3 {
            width: 180px;
            height: 180px;
            background: radial-gradient(circle, #fb923c 0%, transparent 70%);
            bottom: 30%;
            left: 60%;
            animation-duration: 18s;
            animation-delay: -15s;
        }

        @keyframes float-orb {
            0%, 100% {
                transform: translate(0, 0) scale(1);
            }
            50% {
                transform: translate(50px, -30px) scale(1.2);
            }
        }

        /* Moving Gradient Background */
        .moving-gradient {
            position: fixed;
            top: 0;
            left: 0;
            width: 200%;
            height: 200%;
            background: linear-gradient(45deg,
                rgba(17, 24, 39, 1) 0%,
                rgba(31, 41, 55, 0.98) 25%,
                rgba(251, 146, 60, 0.05) 50%,
                rgba(168, 85, 247, 0.03) 75%,
                rgba(17, 24, 39, 1) 100%);
            animation: gradient-shift 30s ease-in-out infinite;
            z-index: -3;
        }

        @keyframes gradient-shift {
            0%, 100% {
                transform: translate(-25%, -25%) rotate(0deg);
            }
            50% {
                transform: translate(-75%, -75%) rotate(1deg);
            }
        }


        /* Success feedback animations */
        .success-celebration {
            position: relative;
            overflow: visible;
        }

        .success-sparkles {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 100;
        }

        .sparkle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #fbbf24;
            border-radius: 50%;
            animation: sparkle-burst 1.2s ease-out forwards;
        }

        .sparkle.orange {
            background: #fb923c;
            box-shadow: 0 0 6px #fb923c;
        }

        .sparkle.purple {
            background: #a855f7;
            box-shadow: 0 0 6px #a855f7;
        }

        .sparkle.gold {
            background: #fbbf24;
            box-shadow: 0 0 6px #fbbf24;
        }

        @keyframes sparkle-burst {
            0% {
                transform: scale(0) rotate(0deg);
                opacity: 1;
            }
            50% {
                transform: scale(1.2) rotate(180deg);
                opacity: 0.8;
            }
            100% {
                transform: scale(0) rotate(360deg) translate(var(--spark-x), var(--spark-y));
                opacity: 0;
            }
        }

        /* Progress milestone celebration */
        .milestone-achieved {
            animation: milestone-pulse 1.5s ease-out;
        }

        @keyframes milestone-pulse {
            0% {
                transform: scale(1);
                filter: drop-shadow(0 0 0px #fb923c);
            }
            25% {
                transform: scale(1.05);
                filter: drop-shadow(0 0 15px #fb923c);
            }
            50% {
                transform: scale(1.02);
                filter: drop-shadow(0 0 20px #fb923c);
            }
            100% {
                transform: scale(1);
                filter: drop-shadow(0 0 5px #fb923c);
            }
        }

        /* Enhanced micro-interactions */
        .hover-lift {
            transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .hover-lift:hover {
            transform: translateY(-2px);
        }

        .hover-glow {
            transition: all 0.3s ease;
        }

        .hover-glow:hover {
            filter: drop-shadow(0 0 8px rgba(251, 146, 60, 0.4));
            transform: scale(1.02);
        }

        .input-focus-glow {
            transition: all 0.3s ease;
        }

        .input-focus-glow:focus {
            transform: scale(1.02);
            filter: drop-shadow(0 0 12px rgba(251, 146, 60, 0.3));
            box-shadow: 
                0 0 0 2px rgba(251, 146, 60, 0.2),
                0 8px 24px rgba(0, 0, 0, 0.4);
        }

        .text-shimmer {
            background: linear-gradient(
                90deg,
                #e5e7eb 0%,
                #fb923c 25%,
                #a855f7 50%,
                #fb923c 75%,
                #e5e7eb 100%
            );
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: text-shimmer 3s ease-in-out infinite;
        }

        @keyframes text-shimmer {
            0% {
                background-position: 200% center;
            }
            100% {
                background-position: -200% center;
            }
        }


        /* Milestone popup entrance animation */
        @keyframes milestone-popup-enter {
            0% {
                opacity: 0;
                transform: translate(-50%, -50%) scale(0.5);
            }
            70% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1.1);
            }
            100% {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        /* Celebration close button */
        .celebration-close {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 30px;
            height: 30px;
            background: rgba(0, 0, 0, 0.5);
            border: 2px solid rgba(251, 146, 60, 0.6);
            border-radius: 50%;
            color: #fb923c;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            backdrop-filter: blur(5px);
        }

        .celebration-close:hover {
            background: rgba(251, 146, 60, 0.2);
            border-color: #fb923c;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 10px rgba(251, 146, 60, 0.4);
        }

        /* Ensure park completion banner stays visible */
        .park-completion-banner {
            animation-iteration-count: 1 !important;
            animation-fill-mode: forwards !important;
        }

    </style>
</head>
<body class="text-gray-200 m-0 p-0">
    <!-- Atmospheric Background -->
    <div class="moving-gradient"></div>
    <div class="atmospheric-bg">
        <div class="fog-layer"></div>
        <div class="fog-layer"></div>
        <div class="fog-layer"></div>
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>
    
    <!-- Floating Halloween Particles -->
    <div class="halloween-particles" id="halloween-particles"></div>

    <!-- Welcome Modal -->
    <div id="welcome-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">Welcome!</h2>
                <p class="text-gray-300">Your Disney Halloween Foodie Adventure Starts Here</p>
            </div>
            <div class="modal-body">
                <ul class="instruction-list">
                    <li><strong>Check off items</strong> as you try them - tap the pumpkin or text area!</li>
                    <li><strong>Search & Filter</strong> to find specific foods or browse by location</li>
                    <li><strong>Remove items</strong> by tapping X button or swiping left on mobile (you can undo!)</li>
                    <li><strong>Collapse sections</strong> by clicking the park headers to focus on what you want</li>
                    <li><strong>Track your progress</strong> with the spooky blood progress bar and counters</li>
                    <li><strong>End dates shown</strong> - some items are only available for limited time!</li>
                    <li><strong>Use "Restore All"</strong> to reset everything if you want to start fresh</li>
                </ul>
                <p class="text-center text-gray-400 text-sm mt-4">
                    <em>Have a magical and spooky foodie adventure! ðŸŽƒâœ¨</em>
                </p>
            </div>
            <div class="modal-footer">
                <button class="modal-button primary" onclick="closeWelcomeModal()">Let's Eat! ðŸŽƒ</button>
            </div>
        </div>
    </div>

    <button id="scroll-to-top" aria-label="Scroll to top">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 20V4M4 12l8-8 8 8"/>
        </svg>
    </button>

    <button id="info-icon" aria-label="Show instructions" onclick="showWelcomeModal()" title="Show Instructions">
        â„¹ï¸
    </button>

    <!-- Warning Modal -->
    <div id="warning-modal">
        <div class="warning-modal-content">
            <div class="warning-icon">âš ï¸</div>
            <h2 class="warning-title">Hold Up!</h2>
            <div class="warning-message">
                <p>This will <strong>permanently delete</strong> all your progress and reset the entire checklist!</p>
                <p>All checked items, removed items, and preferences will be lost forever.</p>
                <p><strong>Are you absolutely sure?</strong></p>
            </div>
            <div class="warning-buttons">
                <button class="warning-button cancel" onclick="closeWarningModal()">Cancel</button>
                <button class="warning-button confirm" onclick="confirmRestoreAll()">Yes, Reset Everything!</button>
            </div>
        </div>
    </div>

    <div class="w-full">
        
        <div id="header-container" class="px-1 py-2">
            <header class="text-center mb-6">
                <h1 class="title-font text-5xl sm:text-6xl md:text-7xl text-orange-500 tracking-wider leading-tight">Disney Halloween<br>Foodie Guide 2025</h1>
            </header>

            <div class="flex flex-col gap-3 mx-0">
                <!-- Overall Progress (Mobile) -->
                <div id="overall-progress" class="block md:hidden" onclick="toggleMobileStats()">
                    <div class="text-xl text-orange-400 mb-2">
                        ðŸŽƒ Foodie Progress 
                        <span class="expand-icon">ðŸ”½</span>
                    </div>
                    
                    <!-- Spooky Progress Bar -->
                    <div class="progress-container">
                        <div id="mobile-progress-bar" class="progress-bar" style="width: 0%;"></div>
                        <div class="progress-text">
                            <span id="mobile-all-checked">0</span>/<span id="mobile-all-total">0</span>
                            (<span id="mobile-all-percentage">0</span>%)
                        </div>
                    </div>
                    
                    <div class="text-sm text-gray-400 text-center">Tap to view location breakdown</div>
                </div>

                <div id="stats-grid" class="grid grid-cols-2 md:grid-cols-3 gap-4">
                    <div class="p-3 rounded-lg hidden md:block">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">All Locations</div>
                            <div class="text-purple-300">
                                <span id="all-checked">0</span>/<span id="all-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="all-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">Disneyland Park</div>
                            <div class="text-purple-300">
                                <span id="disneyland-park-checked">0</span>/<span id="disneyland-park-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="disneyland-park-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">California Adventure</div>
                            <div class="text-purple-300">
                                <span id="disney-california-adventure-park-checked">0</span>/<span id="disney-california-adventure-park-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="disney-california-adventure-park-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">Hotels</div>
                            <div class="text-purple-300">
                                <span id="hotels-of-the-disneyland-resort-checked">0</span>/<span id="hotels-of-the-disneyland-resort-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="hotels-of-the-disneyland-resort-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">Downtown Disney</div>
                            <div class="text-purple-300">
                                <span id="downtown-disney-checked">0</span>/<span id="downtown-disney-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="downtown-disney-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                    <div class="p-3 rounded-lg">
                        <div class="flex items-center justify-between">
                            <div class="text-lg text-orange-400">Halloween Candy</div>
                            <div class="text-purple-300">
                                <span id="halloween-candy-checked">0</span>/<span id="halloween-candy-total">0</span>
                                <span class="text-sm text-purple-400">(<span id="halloween-candy-percentage">0</span>%)</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="flex flex-col md:flex-row justify-between items-center gap-4" style="
                    border: 2px solid;
                    border-image: linear-gradient(135deg, #fb923c, #a855f7, #fb923c) 1;
                    background: 
                        linear-gradient(135deg, rgba(251, 146, 60, 0.06) 0%, transparent 50%),
                        linear-gradient(45deg, rgba(168, 85, 247, 0.04) 0%, transparent 50%),
                        linear-gradient(135deg, rgba(31, 41, 55, 0.9) 0%, rgba(55, 65, 81, 0.95) 50%, rgba(31, 41, 55, 0.9) 100%);
                    margin: 0.25rem 0 0.75rem 0;
                    padding: 0.75rem;
                    border-radius: 0.75rem;
                    backdrop-filter: blur(10px);
                    box-shadow: 
                        0 8px 16px rgba(0, 0, 0, 0.3),
                        0 0 12px rgba(251, 146, 60, 0.15),
                        inset 0 1px 0 rgba(255, 255, 255, 0.1);
                ">
                    <div class="flex flex-col sm:flex-row gap-4 flex-grow w-full">
                        <div class="relative flex-grow">
                            <input type="text" id="search-input" placeholder="ðŸŽƒ Search for spooky treats..." class="w-full themed-input pr-10">
                            <button id="clear-search" class="absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-orange-400 transition-colors duration-200 opacity-0" style="display: none;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                        <select id="park-filter" class="themed-select">
                            <option value="all">All Locations</option>
                            <option value="disneyland-park">Disneyland Park</option>
                            <option value="disney-california-adventure-park">Disney California Adventure Park</option>
                            <option value="hotels-of-the-disneyland-resort">Hotels</option>
                            <option value="downtown-disney">Downtown Disney</option>
                            <option value="halloween-candy">Halloween Candy</option>
                        </select>
                    </div>
                    <div class="flex gap-4">
                        <button id="undo-button" class="action-button" disabled>Undo</button>
                        <button id="restore-button" class="action-button">Restore All</button>
                    </div>
                </div>
            </div>
        </div>

        <main id="checklist-container" class="px-1">
            <!-- Sections will be dynamically added here -->
        </main>
    </div>

    <script>
        // Data for the checklist
        const foodieData = {
            "Disneyland Park": {
                "Alien Pizza Planet": [
                    { name: "Haunted Heatwave Pizza", description: "Spiced blush sauce topped with mozzarella and pepper jack, Italian sausage, classic and crispy cupped pepperoni, smoked bratwurst, and sliced red Fresno chiles garnished with basil and hot honey drizzle", endDate: "2025-10-31" },
                    { name: "Spicy Blush Pasta", description: "Italian sausage and bell peppers served on the chefâ€™s choice of pasta, tossed in a blush sauce, and garnished with Parmesan and basil", endDate: "2025-11-13" },
                    { name: "Apple and Pecan Salad", description: "Mixed greens with frisÃ©e, candied pecans, Granny Smith apple, feta crumbles, and maple dressing", endDate: "2026-01-07" },
                    { name: "Pumpkin Spiced Breadsticks", description: "Breadsticks rolled in pumpkin spiced sugar served with a caramel cream cheese sauce", endDate: "2026-01-07" },
                    { name: "Seasonal Alien Macarooooon", description: "filled with berries and cream", endDate: "2025-10-31" }
                ],
                "Bengal Barbecue": [
                    { name: "Iced Pandan Cooler", description: "with brown sugar spheres and ube cold foam", endDate: "2026-01-07" },
                    { name: "Iced Pumpkin Chai Latte", description: "with brown sugar spheres and cold foam", endDate: "2025-11-13" }
                ],
                "Blue Bayou Restaurant": [
                    { name: "Plant-based Roasted Beet and Citrus Salad", description: "Crema, herbs, almonds, fennel, and poppy seed vinaigrette", endDate: "2025-11-13" },
                    { name: "Doberge Cake", description: "Layers of pumpkin spice sponge, chocolate whipped ganache, and salted caramel buttercream", endDate: "2025-11-13" }
                ],
                "CafÃ© Daisy": [
                    { name: "Daisy's Goody-Goody Donuts", description: "House-made mini apple cider donuts with spiced apple sugar", endDate: "2026-01-07" },
                    { name: "Clarabelle Spicy Chipotle Pineapple Lemonade", description: "Minute Maid Zero Sugar Lemonade, chipotle-pineapple syrup, and chile-lime seasoning topped with pineapple", endDate: "2025-11-13" },
                    { name: "Pumpkin Tiramisu Cold Brew", description: "Joffreyâ€™s French Roast Cold Brew Coffee with pumpkin and tiramisu syrups, topped with whipped cream, chocolate and pumpkin powders, and a ladyfinger cookie", endDate: "2025-11-13" }
                ],
                "Cafe Orleans": [
                    { name: "Sweet Potato Hummus", description: "Lemon oil, pomegranate, sunflower seeds, and lavash", endDate: "2026-01-07" },
                    { name: "Cherry Cream Soda", description: "Sprite, cherry syrup, and cream", endDate: "2026-01-07" }
                ],
                "Carnation CafÃ©": [
                    { name: "Alpine Almond Delight", description: "Rolled Danish filled with pastry cream and almond cream finished with sliced almonds", endDate: "2025-11-14" }
                ],
                "Galactic Grill": [
                    { name: "Haunted Hound Dog", description: "Â¼ lb. all beef hot dog on a brioche bun, topped with shredded cheese, pickled mustard, bacon, and fried onions", endDate: "2025-10-31" },
                    { name: "Chile Pepper Burger", description: "Angus beef and vegetable patty, ghost pepper salsa verde, pepper jack, green chile pico de gallo, cilantro lime slaw, and crispy onions served on a toasted brioche bun", endDate: "2025-11-13" },
                    { name: "Darth by Chocolate", description: "Layers of chocolate pudding, red velvet sponge, chocolate mousse, and crushed chocolate crÃ¨me-filled cookies", endDate: "2025-11-13" },
                    { name: "Bloody Orange Slushy", description: "Blood orange-flavored slush with raspberry drizzle", endDate: "2025-10-31" },
                    { name: "Iced Pumpkin Pie Chai Latte", description: "topped with pumpkin pie cold foam", endDate: "2025-11-13" }
                ],
                "Good Boy! Grocers": [
                    { name: "Strawberry Slushee", description: "made with Fanta Strawberry", endDate: "2026-01-07" }
                ],
                "Gibson Girl Ice Cream Parlor": [
                    { name: "Rest in Chocolate Sundae", description: "Rocky Road ice cream buried in a chocolate-covered waffle cup with chocolate cookie crumbles and gummy worms topped with a chocolate tombstone", endDate: "2025-10-31" }
                ],
                "Harbour Galley": [
                    { name: "Fresh-baked Pumpkin Cookies", description: "(Available in a 6 or 13 pack while supplies last)", endDate: "2025-11-13" },
                    { name: "Whipped Cream Cheese Dip", description: "", endDate: "2025-11-13" }
                ],
                "Hungry Bear Barbecue Jamboree": [
                    { name: "Cherry Cobbler Funnel Cake Fries", description: "Cinnamon sugar-dusted funnel cake fries, cherry pie filling, vanilla ice cream, and streusel", endDate: "2025-11-13" },
                    { name: "Mint Chip Cold Brew", description: "Mint chip ice cream, Joffreyâ€™s French Roast cold brew coffee, cream topper, and chocolate chips", endDate: "2025-11-13" }
                ],
                "Jolly Holiday Bakery Cafe": [
                    { name: "Pear Cherry Cheese Crumble", description: "Pie shell filled with cheesecake, cherry filling and spiced pears finished with sliced pears, streusel, and caramel", endDate: "2025-11-13" },
                    { name: "Bulgogi Beef Toasted Sandwich with Corn Cheese Soup", description: "Marinated beef, grilled onion, mozzarella, and kimchi aÃ¯oli on sourdough served with corn cheese soup", endDate: "2025-11-13" },
                    { name: "Caramel Apple Cheesecake", description: "Caramel cheesecake with caramelized apple filling finished with caramel drip, orange and white chocolate mousse, chocolate flakes, and a chocolate bat", endDate: "2025-11-13" },
                    { name: "Hazelnut Brownie Tart", description: "Hazelnut spread and brownie filling topped with purple cream cheese frosting, chocolate moon, bat, and orange sprinkles", endDate: "2025-11-13" },
                    { name: "Jack-O'-Lantern Mickey Pumpkin Macaron", description: "Pumpkin macaron shell filled with caramel and pumpkin cheesecake", endDate: "2025-10-31" },
                    { name: "Mickey Bat Cookie", description: "Shortbread bat cookie dipped in dark chocolate with a vampire Mickey face", endDate: "2025-10-31" },
                    { name: "Pumpkin Muffin", description: "topped with cream cheese icing", endDate: "2026-01-07" },
                    { name: "Spiced Bundt Cake", description: "Spiced cake filled with cream cheese frosting and topped with purple glaze, sprinkles, and spiced mousse with a Mickey chocolate decoration", endDate: "2025-11-13" },
                    { name: "Joffreyâ€™s Pumpkin Cold Brew", description: "topped with vanilla foam and spiced sugar", endDate: "2025-11-13" }
                ],
                "Little Red Wagon": [
                    { name: "Chili Cheese Corn Dog", description: "Classic corn dog topped with spicy chili, jalapeÃ±o-cilantro crema, cheddar cheese, and crispy onions", endDate: "2026-01-07" },
                    { name: "Mango-Strawberry Lemonade", description: "Minute-Maid Lemonade infused with chamoy, strawberry syrup, and mango purÃ©e", endDate: "2025-11-13" }
                ],
                "Market House": [
                    { name: "Butter Biscuit Cookie", description: "Butter cookie with cookie butter spread, drizzled with colored chocolate", endDate: "2025-11-13" },
                    { name: "Mickey Bat Cookie", description: "Shortbread bat cookie dipped in dark chocolate with a vampire Mickey face", endDate: "2025-10-31" }
                ],
                "Maurice's Treats, Fantasyland Fruit Cart, and Lemonade at small world Promenade": [
                    { name: "Trick or Treat Trail Mix", description: "Mix of M&Mâ€™S Milk Chocolate Candies, pretzel sticks, candy gummy worms, and candy corn", endDate: "2025-11-13" }
                ],
                "Mint Julep Bar": [
                    { name: "Pumpkin Spiced-flavored Mickey-shaped Beignet", description: "dusted with pumpkin spice sugar", endDate: "2025-11-13" },
                    { name: "Coffee-Caramel Dipping Sauce", description: "", endDate: "2025-11-13" },
                    { name: "Cranberry-Pomegranate Mint Julep", description: "with mixed berry-flavored popping spheres", endDate: "2025-11-13" }
                ],
                "Plaza Inn": [
                    { name: "German Chocolate Pie", description: "Flaky pie shell filled with layers of chocolate cake, chocolate crÃ©meux, and German chocolate filling topped with chocolate drizzle and chocolate curls", endDate: "2025-11-13" },
                    { name: "Poison Apple Cake", description: "Red cinnamon cake with cream cheese and caramelized apple filling finished with red cream cheese buttercream frosting and green ganache", endDate: "2025-10-31" },
                    { name: "Tombstone Chocolate Cake", description: "Chocolate pound cake, whipped topping, Oreo dust, and candied worms topped with a tombstone decoration", endDate: "2025-11-13" }
                ],
                "Rancho del Zocalo Restaurante": [
                    { name: "Chick-or-Treat Mulita", description: "Cheesy blue corn tortilla with refried beans, chicken tinga, crema, cotija cheese, and spicy pickled onions served with tortilla chips", endDate: "2025-11-13" },
                    { name: "Mickey-shaped Pumpkin Salted Dulce Cream Puff", description: "filled with pumpkin mousse and salted dulce de leche", endDate: "2025-11-13" },
                    { name: "Hibiscus-Pomegranate Cooler", description: "Spiced hibiscus tea, pomegranate and orange juices, and honey", endDate: "2026-01-07" }
                ],
                "Red Rose Taverne": [
                    { name: "Butternut Squash Flatbread", description: "Roasted butternut squash purÃ©e, roasted mushrooms, feta, and roasted diced butternut squash topped with garlic miso sauce and fried sage", endDate: "2026-01-07" },
                    { name: "Enchanted Pumpkin Stuff", description: "Pumpkin mousse with pumpkin cake and apricot marmalade center topped with green sprinkles, silver stars, and a chocolate branch and leaf", endDate: "2025-11-13" },
                    { name: "Pumpkin Cheesecake Cold Brew", description: "Joffreyâ€™s caramel, vanilla and cinnamon cold brew with pumpkin cheesecake topper", endDate: "2025-11-13" }
                ],
                "Refreshment Corner": [
                    { name: "Chili Potato Dog", description: "Baked potato, all-beef hot dog, spicy chili, cheese sauce, sour cream, green onion, and spicy corn chips", endDate: "2025-11-13" }
                ],
                "River Belle Terrace": [
                    { name: "Big Belle Sandwich", description: "Nashville hot chicken, brisket mac and cheese, and house-made slaw", endDate: "2025-11-13" },
                    { name: "Mississippi Mud Cake", description: "Toasted marshmallows and candied pecans with vanilla ice cream", endDate: "2025-11-13" },
                    { name: "Chocolate-Peanut Butter Pudding", description: "Chocolate pudding with peanut butter chantilly and chocolate-peanut butter pieces", endDate: "2025-11-13" },
                    { name: "Pumpkin Spice Pancakes", description: "Pumpkin spice sauce and cream cheese chantilly with choice of bacon or sausage", endDate: "2025-11-13" }
                ],
                "Royal Street Veranda": [
                    { name: "Meatball Slider", description: "IMPOSSIBLE meatballs, marinara sauce, and parmesan", endDate: "2026-01-07" },
                    { name: "Roasted Vegetable Salad", description: "Roasted brussels sprouts, beets, butternut squash, yams, toasted almonds, pepitas, and burrata cheese topped with herbed balsamic vinaigrette", endDate: "2026-01-07" },
                    { name: "Coffee Fritters", description: "rolled in cinnamon sugar, drizzled with white mocha sauce, and garnished with praline sugar streusel", endDate: "2025-11-13" },
                    { name: "Pumpkin CrÃ¨me BrÃ»lÃ©e Cold Brew", description: "Joffreyâ€™s pumpkin crÃ¨me brÃ»lÃ©e cold brew coffee, pumpkin spiced creamer, and toffee chips", endDate: "2025-11-13" }
                ],
                "Stage Door CafÃ©": [
                    { name: "The MONSTER Funnel Cake", description: "Green funnel cake with chocolate sauce, crumbled brownie, peanut butter candy pieces, and whipped cream", endDate: "2025-11-13" }
                ],
                "The Golden Horseshoe": [
                    { name: "The Bride Sundae", description: "Brownie cake, vanilla ice cream, cookies and crÃ¨me chocolate crumble, whipped topping, and chocolate sauce", endDate: "2025-11-13" }
                ],
                "Troubadour Tavern": [
                    { name: "Bulgogi Potato", description: "Bulgogi-marinated beef, gochujang mayo, spicy cucumber, and green onion", endDate: "2025-11-13" },
                    { name: "Celebration Dinner Potato", description: "Baked potato with pulled smoked turkey, whipped cream cheese, stuffing, cranberry sauce, gravy, and fried onions", endDate: "2026-01-07" },
                    { name: "Trick or Treat Popcorn", description: "topped with mix of M&Mâ€™S Milk Chocolate Candies, candy gummy worms, pretzel sticks, and candy corn", endDate: "2025-11-13" }
                ],
                "Churros near Buzz Lightyear Astro Blasters": [
                    { name: "Chocolate Churro", description: "Classic churro rolled in chocolate-flavored sugar", endDate: "2025-10-31" },
                    { name: "Creamy Peanut Butter Dipping Sauce", description: "", endDate: "2025-10-31" }
                ],
                "Churros near Casey Jr. Circus Train": [
                    { name: "Caramel Apple Dipping Sauce", description: "Diced apples with cinnamon and caramel sauce", endDate: "2025-11-13" }
                ],
                "Churros near Haunted Mansion": [
                    { name: "Straw-batty Churro", description: "Strawberry-filled churro rolled in chocolate cookie dust and drizzled with cream cheese sauce, topped with a chocolate bat", endDate: "2026-01-07" }
                ],
                "Churros near Sleeping Beauty Castle and Churros near Town Square": [
                    { name: "Citrus Churro", description: "Churro tossed in citrus orange sugar", endDate: "2025-11-13" },
                    { name: "Blueberry-Lemon Dipping Sauce", description: "Vanilla frosting mixed with blueberry compote", endDate: "2025-11-13" }
                ],
                "Popcorn near Haunted Mansion": [
                    { name: "Halloween Treat Mix-In", description: "Add-on a scoop of Halloween candy mix to classic buttery popcorn complete with green, purple and black M&Mâ€™S Milk Chocolate Candies, and candy corn", endDate: "2025-11-13" }
                ],
                "Popcorn near Star Trader": [
                    { name: "Spicy Pickle Popcorn", description: "Popcorn tossed with crushed hot cheese puffs and dill pickle seasoning", endDate: "2025-10-31" }
                ],
                "Pretzels at small world Promenade": [
                    { name: "Caramel Apple Dipping Sauce", description: "Diced apples with cinnamon and caramel sauce", endDate: "2025-11-13" }
                ],
                "Pretzels near Star Tours â€“ The Adventures Continue": [
                    { name: "Supernova Pretzel", description: "JalapeÃ±o cheese-filled pretzel topped with spicy crumble and lime", endDate: "2025-10-31" },
                    { name: "JalapeÃ±o Cheese Sauce", description: "", endDate: "2025-10-31" }
                ]
            },
            "Disney California Adventure Park": {
                "Angry Dogs": [
                    { name: "Hot Pickle", description: "Spicy Pickle", endDate: "2025-11-13" }
                ],
                "Aunt Cass CafÃ©": [
                    { name: "Chicken Pot Pie Soup", description: "in a bread bowl with crispy fried egg roll wrappers", endDate: "2026-01-07" },
                    { name: "Caramel Apple Bread Pudding", description: "with caramelized apples, whipped topping, and caramel sauce", endDate: "2025-11-13" },
                    { name: "Vampire Mickey-shaped Sourdough Bread", description: "", endDate: "2025-10-31" },
                    { name: "Cinnamon-Apple Cold Brew", description: "Joffreyâ€™s caramel cold brew with apple cinnamon foam and apple cereal dust", endDate: "2025-11-13" }
                ],
                "Award Wieners": [
                    { name: "Pambazo Torta", description: "Guajillo-dipped toasted roll stuffed with a hot dog, chorizo con papas, lettuce, cotija cheese, pickled onions, salsa verde, and a pickled jalapeÃ±o", endDate: "2025-11-13" },
                    { name: "Spell Bar", description: "Batter-fried SNICKERS bar on a stick with chocolate drizzle, whipped topping, and roasted peanuts", endDate: "2025-11-13" }
                ],
                "Bayside Brews": [
                    { name: "Brewery X Spiced Sangria Seltzer", description: "", endDate: "2026-01-07" },
                    { name: "Golden State Jamaica Cider", description: "", endDate: "2025-11-13" },
                    { name: "Rincon Reservation Road Rez Dog Hefeweizen", description: "", endDate: "2026-01-07" },
                    { name: "Watermelon Pineapple Margarita", description: "Tequila, watermelon schnapps, and pineapple juice with a chile-lime seasoned rim", endDate: "2026-01-07" }
                ],
                "Boardwalk Pizza & Pasta": [
                    { name: "Spicy Pasta Pizza", description: "Andouille sausage, ditalini pasta, tomato and vodka cream sauce, and fresh basil", endDate: "2025-11-02" },
                    { name: "Apple Budino", description: "Cinnamon budino topped with caramelized apple filling, apple cider reduction, oatmeal streusel, and vanilla bean chantilly", endDate: "2025-11-13" },
                    { name: "Frozen Marble Drip Coffee", description: "Frozen Joffreyâ€™s French Roast cold brew coffee drizzled with oat milk and sweetened condensed milk", endDate: "2026-01-07" }
                ],
                "Boudin Bread Cart": [
                    { name: "Vampire Mickey-shaped Sourdough Bread", description: "", endDate: "2025-10-31" }
                ],
                "Cappuccino Cart": [
                    { name: "Peanut Butter Mocha Cold Brew", description: "Joffreyâ€™s mocha cold brew, peanut butter whip, peanut butter drizzle, and M&Mâ€™S Peanut Butter Chocolate Candies", endDate: "2025-10-31" },
                    { name: "Peanut Butter Whiskey Cold Brew Cocktail", description: "Joffreyâ€™s mocha cold brew with peanut butter whiskey, peanut butter foam, and peanut butter drizzle", endDate: "2025-10-31" }
                ],
                "Clarabelleâ€™s Hand-Scooped Ice Cream": [
                    { name: "Chocolate Lava Cake", description: "Warm chocolate lava cake topped with a scoop of vanilla ice cream, fresh berries, and strawberry sauce", endDate: "2025-11-13" },
                    { name: "Witches Hat Sundae", description: "Your choice of ice cream in a cup with a witchâ€™s hat cone and seasonal toppings", endDate: "2025-11-13" },
                    { name: "Mango Hard Float", description: "Golden Road Brewery Mango Cart, mango sorbet, chamoy, and chile-lime seasoning", endDate: "2026-01-07" }
                ],
                "Cocina Cucamonga Mexican Grill": [
                    { name: "Spicy Jamaica", description: "Jamaica agua fresca with chamoy and chile-lime seasoning", endDate: "2025-11-13" },
                    { name: "Bottle Logic Brewing Blood Orange Paloma Seltzer", description: "", endDate: "2025-11-13" },
                    { name: "Jamaica Tequila Cocktail", description: "", endDate: "2025-11-13" }
                ],
                "Corn Dog Castle": [
                    { name: "Fried Elote Corn on the Cob", description: "Whole corn cob dipped in batter and fried to golden brown, drizzled with chipotle aÃ¯oli, and topped with chile-lime queso fresco and cilantro", endDate: "2026-01-07" }
                ],
                "Cozy Cone Motel 1 â€“ Churros": [
                    { name: "Pumpkin Pie Churro", description: "Classic churro topped with pumpkin cream and pie crust pieces", endDate: "2025-11-13" },
                    { name: "Pumpkin CrÃ¨me BrÃ»lÃ©e Cold Brew", description: "Joffreyâ€™s pumpkin crÃ¨me brÃ»lÃ©e cold brew with pumpkin sauce topped with cold cream foam", endDate: "2026-01-07" },
                    { name: "Pumpkin CrÃ¨me BrÃ»lÃ©e Cold Brew Martini", description: "Joffreyâ€™s pumpkin crÃ¨me brÃ»lÃ©e cold brew with Irish cream, vanilla vodka, and pumpkin sauce topped with cold cream foam", endDate: "2026-01-07" }
                ],
                "Cozy Cone Motel 2 â€“ Ice Cream Cones": [
                    { name: "Mater Haul-O-Ween Cone", description: "Ube soft-serve with black sprinkles served in a cup or cone", endDate: "2025-11-13" },
                    { name: "Ube-Vanilla Twist Soft-serve", description: "with black sprinkles served in a cup or cone", endDate: "2025-11-13" }
                ],
                "Cozy Cone Motel 3 â€“ Chili Cone Queso": [
                    { name: "Slow Burninâ€™ Mac and Cheese Cone", description: "Fresh-cooked pasta tossed with a spicy red pepper cheese sauce in a bread cone topped with crushed chile-cheese puffs", endDate: "2025-11-13" }
                ],
                "Cozy Cone Motel 4 â€“ Frozen Cone-Coctions": [
                    { name: "Mother Earth Brew Co. Cali Screaminâ€™ Pumpkin Vanilla Cream Ale", description: "", endDate: "2025-11-13" },
                    { name: "Tarantula Hill El Rey Salt and Lime Mexican Lager", description: "", endDate: "2026-01-07" },
                    { name: "Watermelon Michelada", description: "Tarantula Hill El Rey Aalt and Lime Mexican Lager with watermelon chamoy lemonade, rimmed with chile-lime seasoning and chamoy", endDate: "2026-01-07" },
                    { name: "Unsung Brewery Poison Apple Seltzer", description: "", endDate: "2025-11-13" }
                ],
                "Cozy Cone Motel 5 â€“ Popcone": [
                    { name: "Barbacoa Sope", description: "Fried sope with barbacoa, chorizo beans, lettuce, queso, crema, and salsa roja", endDate: "2025-11-13" }
                ],
                "Floâ€™s V8 Cafe": [
                    { name: "Spicy Chicken and Fries", description: "Fries topped with chicken tenders tossed in a mango-habanero sauce, drizzled with ranch dressing, and finished with green onions", endDate: "2025-11-13" },
                    { name: "Seaborn Blackberry Margarita", description: "Blackberry Margarita with a chile-lime and black salt rim", endDate: "2025-11-13" }
                ],
                "Hollywood Lounge": [
                    { name: "Belching Beaver Phantom Bride IPA", description: "", endDate: "2025-11-13" },
                    { name: "Haunted Horchata Cocktail", description: "Horchata with RumChata and cinnamon whiskey", endDate: "2025-11-13" },
                    { name: "Keg Craft Berry Sangria", description: "", endDate: "2026-01-07" },
                    { name: "2 Towns Ciderhouse Hollow Jack Pumpkin Cider", description: "", endDate: "2025-11-13" },
                    { name: "2 Towns Ciderhouse Mango Cosmic Crisp Cider", description: "", endDate: "2026-01-07" },
                    { name: "21st Amendment Brewery Citrus Wheat Ale", description: "", endDate: "2025-11-13" },
                    { name: "Route 30 Brewing Co. Oktoberfest Lager", description: "", endDate: "2025-11-13" },
                    { name: "Seaborn Paranormal Peach Margarita", description: "", endDate: "2025-11-13" }
                ],
                "Lamplight Lounge": [
                    { name: "Herb-roasted Chicken", description: "Turnip purÃ©e, rainbow carrots, and chicken jus", endDate: "2026-01-07" },
                    { name: "Thai Seafood Pasta", description: "Thai curry cioppino, coconut-steamed clams and mussels, shrimp, pan-seared fish, spaghetti, sourdough breadcrumbs, crispy shallots, Thai basil, cilantro, and a lime wedge", endDate: "2026-01-07" },
                    { name: "Prime Rib", description: "Herb salt-crusted with whipped potatoes, grilled rainbow carrots, wasabi cream, and au jus", endDate: "2026-01-07" },
                    { name: "Gamecraft Marzen", description: "", endDate: "2025-11-13" },
                    { name: "Brewery Ommegang All Hallows Treat", description: "", endDate: "2025-11-13" },
                    { name: "2 Town Cosmic Crisp", description: "", endDate: "2026-01-07" }
                ],
                "Lamplight Lounge â€“ Boardwalk Dining": [
                    { name: "Gamecraft Marzen", description: "", endDate: "2025-11-13" },
                    { name: "Brewery Ommegang All Hallows Treat", description: "", endDate: "2025-11-13" }
                ],
                "Lucky Fortune Cookery": [
                    { name: "Seasonal Baymax Macaron", description: "filled with ube cream and salted caramel chocolate crunch pearls", endDate: "2025-11-13" }
                ],
                "Mortimers Market": [
                    { name: "Vampire Mickey-shaped Sourdough Bread", description: "", endDate: "2025-10-31" }
                ],
                "Outdoor Vending Locations": [
                    { name: "Ghost Pepper Turkey Leg", description: "", endDate: "2025-11-13" },
                    { name: "JalapeÃ±o-Cream Cheese Bread", description: "", endDate: "2026-01-07" },
                    { name: "Pumpkin Spice Cream Cheese Bread", description: "", endDate: "2025-11-13" },
                    { name: "Blackberry Cotton Candy", description: "", endDate: "2025-11-13" },
                    { name: "Oogie Boogie Chocolate Chip Cookie", description: "", endDate: "2025-11-13" },
                    { name: "Bottle Logic Brewing Quarktoberfest Festbier Lager", description: "", endDate: "2025-11-13" },
                    { name: "Study Break Blackberry Smash Seltzer", description: "", endDate: "2025-11-13" }
                ],
                "Port of San Fransokyo CervecerÃ­a": [
                    { name: "Karl Strauss Brewing Company Karlitos Mexican Lager", description: "", endDate: "2025-11-13" },
                    { name: "Karl Strauss Brewing Company Karlitos Mexican Lager Michelada", description: "", endDate: "2025-11-13" }
                ],
                "Poultry Palace": [
                    { name: "Chipotle Chicken Drumstick Box", description: "served with slaw", endDate: "2026-01-07" }
                ],
                "Pym Tasting Lab": [
                    { name: "Karl Strauss Oktoberfest", description: "", endDate: "2025-11-13" }
                ],
                "Pym Test Kitchen": [
                    { name: "Asgardian Apple Cold Brew", description: "Joffreyâ€™s caramel cold brew, green apple cold foam, and caramel sauce with a caramel apple lollipop", endDate: "2026-01-07" },
                    { name: "Blueberry Matcha Iced Latte", description: "Matcha latte topped with blueberry cold foam and blueberry popping spheres", endDate: "2026-01-07" }
                ],
                "Schmoozies!": [
                    { name: "Ursula Enchanted Waffles", description: "Dark chocolate Mickey-shaped waffles filled with ube custard and dusted with powdered sugar", endDate: "2025-11-13" },
                    { name: "Evil Queen Apple Shake", description: "Matcha-apple shake with whipped topping", endDate: "2025-11-13" },
                    { name: "Mickey Mummy Shake", description: "Chocolate cookie shake with whipped topping, chocolate cream-filled cookie ears, and M&Mâ€™S Milk Chocolate Candies", endDate: "2025-11-13" },
                    { name: "Castellum Ciders Ube Cider", description: "", endDate: "2026-01-07" },
                    { name: "Latitude 33 Brewing Honey Hips Ale", description: "", endDate: "2026-01-07" },
                    { name: "Seaborn Wild Berry Lime Margarita", description: "", endDate: "2026-01-07" },
                    { name: "Unsung Brewing Co. Mimosa Hard Seltzer", description: "", endDate: "2026-01-07" },
                    { name: "Pumpkin Espresso Martini", description: "Joffreyâ€™s pumpkin cold brew with caramel vodka topped with pumpkin spice cold foam", endDate: "2025-11-13" }
                ],
                "Smokejumpers Grill": [
                    { name: "Buffalo Chicken Loaded Onion Rings", description: "Onion rings topped with buffalo chicken, blue cheese, ranch, carrot ribbons, and green onions", endDate: "2025-10-31" },
                    { name: "BearPaw Basin Cold Brew", description: "Joffreyâ€™s pecan cold brew, salted maple cold foam, caramel drizzle, and waffle pieces", endDate: "2026-01-07" },
                    { name: "Boo Berry Shake", description: "Blackberry shake with whipped cream, chocolate cookie dust, orange sprinkles, and fresh berries", endDate: "2025-10-31" },
                    { name: "Oogie Boogie Lemonade", description: "Green apple Minute-Maid Lemonade with cherry-flavored popping spheres, and raspberry sauce", endDate: "2025-10-31" },
                    { name: "Caramel-Pecan Irish Cream Cold Brew Cocktail", description: "Irish cream liqueur, Joffreyâ€™s pecan cold brew, salted maple cold foam, caramel drizzle, and waffle pieces", endDate: "2026-01-07" },
                    { name: "Enegren Brewing Company Oktoberfest Moorpark", description: "", endDate: "2025-11-13" },
                    { name: "Karl Strauss Aurora Hoppyalis", description: "", endDate: "2025-11-13" },
                    { name: "Green Apple Lemonade Cocktail", description: "Vodka with green apple Minute-Maid Lemonade, cherry-flavored popping spheres, and raspberry sauce", endDate: "2025-10-31" }
                ],
                "Sonoma Terrace": [
                    { name: "Enegren Brewing Company Oktoberfest Bavarian Marzen Style Lager", description: "", endDate: "2025-11-13" }
                ],
                "Studio Catering Co.": [
                    { name: "Oogie Boogie Burrito", description: "Carne asada, French fries, spicy blue tortilla chips, pico de gallo, guacamole, and crema", endDate: "2025-11-13" },
                    { name: "Oogie Boogie Splash", description: "House-made watermelon agua fresca with chile-lime seasoning", endDate: "2025-11-13" }
                ],
                "Wine Country Trattoria": [
                    { name: "Raspberry CrÃ¨me BrÃ»lÃ©e Tart", description: "", endDate: "2025-11-13" },
                    { name: "Pozione Verde", description: "Midori, coconut rum, coconut cream, and pineapple juice", endDate: "2025-11-13" }
                ],
                "Terran Treats": [
                    { name: "Celestial Chocolate Churro", description: "Churro rolled in cocoa sugar, topped with pistachio cream, chocolate sauce, crispy phyllo dough crumbles, and crushed pistachios", endDate: "2025-11-13" }
                ],
                "Churros at Hollywood Land": [
                    { name: "Halloween Town Mayor Churro", description: "Classic churro rolled in graham cracker sugar with marshmallow crÃ¨me, and chocolate drizzle", endDate: "2025-11-13" }
                ],
                "Churros near Redwood Creek Challenge Trail": [
                    { name: "Peanut Butter-Marshmallow Churro", description: "Classic churro with peanut butter sauce, marshmallow sauce, and chocolate chips", endDate: "2026-01-07" }
                ],
                "Willieâ€™s Churros at Buena Vista Street": [
                    { name: "Coffee and Donut Churro", description: "Classic churro rolled in coffee sugar topped with coffee-infused chocolate sauce, whipped topping, and seasonal sprinkles", endDate: "2025-11-13" }
                ]
            },
            "Hotels of the Disneyland Resort": {
                "Disneyland Hotel - Broken Spell Lounge": [
                    { name: "Green-eyed Sceptre", description: "Pernod Absinthe, Avissi Prosecco, St. George Spiced Pear, cinnamon syrup, lime juice, and blackberry", endDate: "2025-10-31" },
                    { name: "Pork Belly Whisky Flip", description: "Pork bellyâ€“infused Pendleton Whisky Midnight, Grand Marnier, maple syrup, whole egg, and pork belly garnish", endDate: "2025-10-31" },
                    { name: "Squid Ink Martini", description: "Golden Eagle Vodka, Dolin Blanc Vermouth de ChambÃ©ry, squid ink, lemon bitters, and fennel sprig", endDate: "2025-10-31" }
                ],
                "Disneyland Hotel - Goofyâ€™s Kitchen": [
                    { name: "Chai Ginger Latte", description: "Espresso, milk, chai syrup, white chocolate sauce, and gingerbread whipped cream (Non-Alcoholic)", endDate: "2025-10-31" },
                    { name: "Pumpkin Spice Latte", description: "Espresso, pumpkin spice syrup, and milk (Non-Alcoholic)", endDate: "2025-10-31" }
                ],
                "Disneyland Hotel - Palm Breeze Bar": [
                    { name: "The Dark Heart", description: "Hennessy VS, Plymouth Gin, crÃ¨me de cacao, chocolate bitters, and lemon bitters", endDate: "2025-10-31" },
                    { name: "Tres Brujas", description: "Casamigos Reposado, espresso, Licor 43, Mr. Black Cold Brew Coffee Liqueur, orgeat, and Fee Brothers Fee Foam", endDate: "2025-10-31" }
                ],
                "Disneyland Hotel - The Coffee House": [
                    { name: "Mickey Bat Cookie", description: "Shortbread bat cookie dipped in dark chocolate with a vampire Mickey face", endDate: "2025-10-31" },
                    { name: "Chai Ginger Latte", description: "Espresso, milk, chai syrup, white chocolate sauce, and gingerbread whipped cream (Non-Alcoholic)", endDate: "2025-11-13" },
                    { name: "Pumpkin Spice Latte", description: "Espresso, pumpkin spice syrup, and milk (Non-Alcoholic)", endDate: "2025-11-13" }
                ],
                "Disneyland Hotel - Trader Samâ€™s Enchanted Tiki Bar": [
                    { name: "Cursed Caffeine", description: "Herradura Reposado Tequila, Amaro Montenegro, Mr. Black Cold Brew Coffee Liqueur, agave syrup, and chocolate bitters", endDate: "2025-10-31" },
                    { name: "Dark Prince of Dâ€™Nite", description: "Zacapa rum, El Dorado 8 Rum, sweet vermouth, Amaro Montenegro, Domaine de Canton Ginger Liqueur, and bitters", endDate: "2025-10-31" },
                    { name: "Deep Ocean Waters", description: "Buffalo Trace Bourbon, blue curaÃ§ao, Campari, grapefruit sherbet syrup, lemon juice, and bitters", endDate: "2025-10-31" }
                ],
                "Grand Californian - GCH Craftsman Grill": [
                    { name: "Cappuccino Muffin", description: "", endDate: "2026-01-07" },
                    { name: "Minnie Halloween Cupcake", description: "", endDate: "2025-10-31" },
                    { name: "Pumpkin Pepita Muffin", description: "", endDate: "2026-01-07" },
                    { name: "Filled Long John Donut", description: "", endDate: "2025-10-31" },
                    { name: "Vampire Mickey Cake Donut", description: "", endDate: "2025-10-31" }
                ],
                "Grand Californian - Great Hall Cart": [
                    { name: "Buttery Pumpkin Bread", description: "Pumpkin bread with sprinkles and pumpkin spiced icing", endDate: "2025-10-31" },
                    { name: "Gooey Peanut Butter Chocolate Cookie", description: "Gooey filled cookie topped with gummy worms", endDate: "2025-10-31" },
                    { name: "Halloween Gingerbread Skeleton Cookie", description: "Decorated gingerbread cookie", endDate: "2025-10-31" },
                    { name: "Halloween Berry Jam Linzer Cookie", description: "Decorated sugar cookie", endDate: "2025-10-31" }
                ],
                "Grand Californian - Storytellers Cafe": [
                    { name: "Clarabelleâ€™s Enchanted Halloween Dinner", description: "Dine with Clarabelle Cow and her woodland pals, all decked out in their Halloween best.", endDate: "2025-10-31" },
                    { name: "Mickeyâ€™s Autumn Adventures Brunch", description: "Join Mickey Mouse, Minnie Mouse, and their pals dressed in their festive fall best.", endDate: "2025-11-16" }
                ],
                "Pixar Place Hotel - The Sketch Pad CafÃ©": [
                    { name: "Limited-Edition Giant Chocolate Chip Cookie", description: "Topped with salted caramel, chocolate sauce, and berry jam", endDate: "2025-11-02" },
                    { name: "Pumpkin Cheesecake Overnight Oats", description: "Layered with pumpkin cheesecake, chocolate cookie crumbles, granola, cranberries, and gummy worms", endDate: "2025-11-02" },
                    { name: "Salted Caramel Whoopie Pie", description: "Dark chocolate and salted caramel buttercream", endDate: "2025-11-02" },
                    { name: "Matcha Horchata", description: "Made with rice, condensed milk, vanilla, cinnamon, and topped with matcha tea", endDate: "2025-11-02" },
                    { name: "Paradise Tea Lemonade", description: "House-made lemonade, lavender syrup, and hibiscus cooler tea", endDate: "2025-11-02" },
                    { name: "Pumpkin Cold Brew", description: "Joffreyâ€™s cold brew, caramel syrup, pumpkin purÃ©e, and pumpkin spice", endDate: "2025-11-02" }
                ]
            },
            "Downtown Disney District": {
                "Black Tap Craft Burgers & Shakes": [{ name: "Halloween CrazyShake", description: "Chocolate shake with a vanilla frosted rim with candy corn topped with a â€œspider-webâ€ chocolate cupcake, orange and white twisty pop, orange rock candy, whipped cream, orange sprinkles, and a chocolate drizzle", endDate: "2025-10-31" }],
                "Ballast Point Brewing Co.": [{ name: "Ballast Point Skullcuterie Board", description: "Features a three-cheese skull fondue made with whipped chÃ¨vre, blue cheese, brie, chefâ€™s choice of cured meats, dragon fruitâ€“berry compote, chimichurri, dried fruits, caperberries, pistachios, and finished with roasted bone marrow and charred baguette", endDate: "2025-10-31" }],
                "Beignets Expressed": [{ name: "Caramel Apple Beignet", description: "Candied apple icing, caramel drizzle, and spooky sprinkles", endDate: "2025-10-31" }],
                "California Churro": [{ name: "Spooky Churro", description: "Cut in half churro rolled in cinnamon sugar, drizzled with peanut butter and chocolate sauce, and topped with peanut butter candy pieces", endDate: "2025-10-31" }],
                "CÃ©ntrico": [{ name: "Pumpkin Flan", description: "A rich and creamy twist on the classic Latin dessert, blending the smooth texture of traditional flan with the cozy, spiced flavors of pumpkin pie", endDate: "2025-11-02" }, { name: "La Calavera Roja", description: "Reposado tequila, pomegranate juice, blood orange syrup, lime juice, agave, and cinnamon", endDate: "2025-11-02" }],
                "Jazz Kitchen Coastal Grill & Patio": [{ name: "Sweet Potato Bisque", description: "Topped with maple bacon, squaw bread croutons, and marshmallow â€œcobwebâ€ drizzle", endDate: "2025-10-31" }, { name: "Pumpkin Spice Margarita", description: "Reposado tequila, orange liqueur, lime, and pumpkin spice syrup", endDate: "2025-10-31" }],
                "Naples Ristorante e Bar": [{ name: "Pumpkin Blooderscotch Cannolis", description: "Filled with pumpkin and butterscotch chip cream, whipped cream, red caramel drizzle, and a sugar knife", endDate: "2025-11-02" }],
                "Paseo": [{ name: "Pumpkin Dulce", description: "Spiced sponge cake, maple syrup ganache, walnut crumble, pumpkin mousse, gruyÃ¨re, and rosemary ice cream", endDate: "2025-11-02" }, { name: "Miel de los Muertos", description: "Blanco tequila, orange juice, lemon juice, pumpkin purÃ©e, honey cinnamon syrup, and foam", endDate: "2025-11-02" }],
                "Splitsville Luxury Lanes": [{ name: "Midnight Roll", description: "Creamy avocado, salmon, and cream cheese wrapped in black rice, topped with masago, pickled onion, micro cilantro, and a smoky chipotle mayo drizzle", endDate: "2025-10-31" }, { name: "Mister Boogie", description: "Reposado Tequila, melon liquor, lime juice, agave nectar, and a splash of soda water with a purple sugar rim and topped with two sour gummy worms", endDate: "2025-10-31" }],
                "Tiendita": [{ name: "Boo-Ã±uelo", description: "Spiced chocolate, cinnamon sugar, and seasonal corn", endDate: "2025-11-02" }],
                "Parkside Market: GGâ€™s Chicken Shop": [{ name: "Graveyard Pudding", description: "Chocolate pudding, chocolate cookie crumble, sprinkles, and gummy worms", endDate: "2025-10-31" }],
                "Parkside Market: Seoul Sister": [{ name: "Dragonâ€™s Breath Bokkeum", description: "Spicy pork belly and kimchi stir-fry over rice", endDate: "2025-10-31" }],
                "Parkside Market: Sip & Sonder": [{ name: "Maple Pecan Praline Cinnamon Roll", description: "", endDate: "2025-10-31" }, { name: "Sweet Potato Marshmallow Roll", description: "", endDate: "2025-10-31" }, { name: "Poison Apple Spiced Toffee Crunch Cider", description: "", endDate: "2025-10-31" }, { name: "Spiced Pumpkin Latte", description: "", endDate: "2025-10-31" }, { name: "Spiced Toasted Marshmallow Mocha", description: "", endDate: "2025-10-31" }],
                "Parkside Market: Vista Parkside Market": [{ name: "Sleepy Hollow", description: "Dark rum, almond liqueur, chai simple syrup, lemon juice, vanilla syrup, and bitters, served in the Tree Tiki Glass (available for purchase)", endDate: "2025-10-31" }, { name: "Starry Night", description: "Small batch bourbon, Earl Grey, bitters, and orange bitters", endDate: "2025-10-31" }, { name: "The Raven", description: "Vodka, coffee liqueur, and Sip & Sonder espresso", endDate: "2025-10-31" }],
                "Wetzelâ€™s Pretzels": [{ name: "Graveyard Bitz", description: "Original Bitz drizzled in a gooey layer of crÃ¨me and topped with crunchy cookie pieces", endDate: "2025-11-02" }]
            },
            "Halloween Candy": {
                "Bing Bongâ€™s Sweet Stuff": [
                    { name: "Devil Donald Cake Pop", description: "Vanilla cake pop dipped in white chocolate, decorated with orange-colored white chocolate, watermelon sour candy horns, yellow M&Mâ€™S Minis Chocolate Candy for a beak, and black-colored dark chocolate for the face", endDate: "2025-10-31" },
                    { name: "Psychic Minnie Caramel Apple", description: "Granny Smith apple with marshmallow ears, dipped in caramel and milk chocolate, an orange sugar dress, white M&Mâ€™S Milk Chocolate Candies, and an orange and gray chocolate psychic witch hat", endDate: "2025-10-31" },
                    { name: "Spiderweb Cereal Treat", description: "Cookies and cream flavored rice cereal treat dipped in black-colored dark chocolate and decorated with white chocolate webs with white sanding sugar", endDate: "2025-10-31" },
                    { name: "Vampire Bat Cake Pop", description: "Chocolate cake pop decorated with bat wings and Mickey ear chocolate pieces dipped in black-colored dark chocolate, embellished with M&Mâ€™S Minis Chocolate Candies, and other chocolate facial features", endDate: "2025-09-27" },
                    { name: "Evil Queen Caramel Apple", description: "Granny Smith apple dipped in caramel and decorated with marshmallow ears dipped in red-colored white chocolate, plus a green-colored white chocolate skull face", endDate: "2025-10-31" },
                    { name: "Halloween Marshmallow Wand", description: "Marshmallows on a stick dipped in caramel and milk chocolate, drizzled with orange and purple-colored white chocolate", endDate: "2025-10-31" },
                    { name: "Mummy Mickey Mallow Pop", description: "Mickey-shaped marshmallow pop dipped and decorated with white chocolate, and dark chocolate chip eyes", endDate: "2025-10-31" },
                    { name: "Orange Minnie Bow Cake Pop", description: "Chocolate cake pop, chocolate Minnie ears covered in milk chocolate, finished with an orange Minnie bow", endDate: "2025-10-31" }
                ],
                "Various Candy Shops": [
                    { name: "Devil Donald Cake Pop", description: "Vanilla cake pop dipped in white chocolate, decorated with orange-colored white chocolate, watermelon sour candy horns, yellow M&Mâ€™S Minis Chocolate Candy for a beak, and black-colored dark chocolate for the face", endDate: "2025-10-31" },
                    { name: "Ghost Mickey Cake Pop", description: "Ghost-shaped vanilla cake pop dipped in white chocolate and decorated with a black-colored dark chocolate face", endDate: "2025-10-31" },
                    { name: "Spiderweb Cereal Treat", description: "Cookies and cream flavored rice cereal treat dipped in black-colored dark chocolate and decorated with white chocolate webs with white sanding sugar", endDate: "2025-10-31" },
                    { name: "Vampire Bat Cake Pop", description: "Chocolate cake pop decorated with bat wings and Mickey ear chocolate pieces dipped in black-colored dark chocolate, embellished with M&Mâ€™S Minis Chocolate Candies, and other chocolate facial features", endDate: "2025-09-27" },
                    { name: "Wizard Mickey Caramel Apple", description: "Granny Smith apple with marshmallow ears, dipped in caramel and decorated with milk chocolate, an orange sugar robe, white M&Mâ€™S Milk Chocolate Candies, and an orange and gray wizard hat", endDate: "2025-10-31" },
                    { name: "Psychic Minnie Caramel Apple", description: "Granny Smith apple with marshmallow ears, dipped in caramel and milk chocolate, an orange sugar dress, white M&Mâ€™S Milk Chocolate Candies, and an orange and gray chocolate psychic witch hat", endDate: "2025-10-31" },
                    { name: "Evil Queen Caramel Apple", description: "Granny Smith apple dipped in caramel and decorated with marshmallow ears dipped in red-colored white chocolate, plus a green-colored white chocolate skull face", endDate: "2025-10-31" },
                    { name: "Halloween Marshmallow Wand", description: "Marshmallows on a stick dipped in caramel and milk chocolate, drizzled with orange and purple-colored white chocolate", endDate: "2025-10-31" },
                    { name: "Harvest Brittle", description: "Buttery brittle made with pecans, cashews, almonds, craisins, and cinnamon", endDate: "2025-10-31" },
                    { name: "Llama Potion Cereal Treat", description: "Bottle-shaped cereal treat dipped in pink and tan-colored chocolate, topped with a white chocolate llama piece", endDate: "2025-10-31" },
                    { name: "Mummy Mickey Mallow Pop", description: "Mickey-shaped marshmallow pop dipped and decorated with white chocolate, and dark chocolate chip eyes", endDate: "2025-10-31" },
                    { name: "Orange Minnie Bow Cake Pop", description: "Chocolate cake pop, chocolate Minnie ears covered in milk chocolate, finished with an orange Minnie bow", endDate: "2025-10-31" },
                    { name: "Skeleton Minnie Caramel Apple", description: "Granny Smith apple dipped in caramel and decorated with white chocolate-covered marshmallow ears, a black sugar dress, white M&Mâ€™S Milk Chocolate Candies, and a black and white skull bow", endDate: "2025-10-31" }
                ]
            }
        };

        let undoStack = [];
        const undoButton = document.getElementById('undo-button');

        // Welcome Modal Functions
        function showWelcomeModal() {
            const modal = document.getElementById('welcome-modal');
            if (!modal) {
                console.warn('Welcome modal element not found');
                return;
            }
            modal.classList.add('show');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeWelcomeModal() {
            const modal = document.getElementById('welcome-modal');
            if (!modal) {
                console.warn('Welcome modal element not found');
                return;
            }
            modal.classList.remove('show');
            modal.classList.add('hidden');
            document.body.style.overflow = 'auto';
            localStorage.setItem('welcomeModalShown', 'true');
        }


        // Warning Modal Functions
        function showWarningModal() {
            const modal = document.getElementById('warning-modal');
            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeWarningModal() {
            const modal = document.getElementById('warning-modal');
            modal.classList.remove('show');
            document.body.style.overflow = 'auto';
        }

        function confirmRestoreAll() {
            closeWarningModal();
            restoreDefaults();
        }

        // Store previous completion states for park completion detection
        let previousCompletionStates = {};

        function updateCounters() {
            const locations = [
                'all',
                'disneyland-park',
                'disney-california-adventure-park',
                'hotels-of-the-disneyland-resort',
                'downtown-disney',
                'halloween-candy'
            ];
            
            locations.forEach(location => {
                let checkboxes;
                if (location === 'all') {
                    checkboxes = document.querySelectorAll('#checklist-container input[type="checkbox"]');
                } else {
                    const section = document.getElementById(`${location}-section`);
                    if (section) {
                        checkboxes = section.querySelectorAll('input[type="checkbox"]');
                    }
                }
                
                if (checkboxes) {
                    const total = checkboxes.length;
                    const checked = Array.from(checkboxes).filter(cb => cb.checked).length;
                    const percentage = total > 0 ? Math.round((checked / total) * 100) : 0;
                    
                    // Check for park completion (but skip 'all' location)
                    if (location !== 'all' && total > 0) {
                        const wasCompleted = previousCompletionStates[location] === 100;
                        const isNowCompleted = percentage === 100;
                        
                        if (!wasCompleted && isNowCompleted) {
                            // Park just became 100% complete!
                            const parkNames = {
                                'disneyland-park': 'Disneyland Park',
                                'disney-california-adventure-park': 'Disney California Adventure',
                                'hotels-of-the-disneyland-resort': 'Hotels of the Disneyland Resort',
                                'downtown-disney': 'Downtown Disney District',
                                'halloween-candy': 'Halloween Candy'
                            };
                            
                            setTimeout(() => {
                                celebrateParkCompletion(parkNames[location], location);
                            }, 300); // Small delay to let other animations finish
                        }
                        
                        // Update previous state
                        previousCompletionStates[location] = percentage;
                    }
                    
                    // Update desktop counters
                    const checkedElement = document.getElementById(`${location}-checked`);
                    const totalElement = document.getElementById(`${location}-total`);
                    const percentageElement = document.getElementById(`${location}-percentage`);
                    
                    if (checkedElement) checkedElement.textContent = checked;
                    if (totalElement) totalElement.textContent = total;
                    if (percentageElement) percentageElement.textContent = percentage;

                    // Update mobile overall progress
                    if (location === 'all') {
                        const mobileCheckedElement = document.getElementById('mobile-all-checked');
                        const mobileTotalElement = document.getElementById('mobile-all-total');
                        const mobilePercentageElement = document.getElementById('mobile-all-percentage');
                        const mobileProgressBar = document.getElementById('mobile-progress-bar');
                        
                        if (mobileCheckedElement) mobileCheckedElement.textContent = checked;
                        if (mobileTotalElement) mobileTotalElement.textContent = total;
                        if (mobilePercentageElement) mobilePercentageElement.textContent = percentage;
                        
                        // Animate progress bar
                        if (mobileProgressBar) {
                            // Small delay to ensure smooth animation
                            setTimeout(() => {
                                mobileProgressBar.style.width = percentage + '%';
                            }, 100);
                        }
                    }

                    // Update park header progress
                    const parkProgressElement = document.getElementById(`${location}-progress`);
                    if (parkProgressElement) {
                        if (percentage === 100 && localStorage.getItem(`completed-${location}`)) {
                            // Maintain completed styling
                            parkProgressElement.innerHTML = `âœ¨ ${checked}/${total} (${percentage}%) ðŸŽƒ`;
                            parkProgressElement.style.cssText += `
                                background: linear-gradient(135deg, #fb923c, #fbbf24);
                                -webkit-background-clip: text;
                                -webkit-text-fill-color: transparent;
                                background-clip: text;
                                filter: drop-shadow(0 0 8px rgba(251, 146, 60, 0.8));
                            `;
                        } else {
                            parkProgressElement.textContent = `${checked}/${total} (${percentage}%)`;
                        }
                    }
                }
            });
        }

        // Mobile header toggle functionality
        function toggleMobileStats() {
            const statsGrid = document.getElementById('stats-grid');
            const overallProgress = document.getElementById('overall-progress');
            
            const isExpanded = statsGrid.classList.contains('expanded');
            
            if (isExpanded) {
                statsGrid.classList.remove('expanded');
                overallProgress.classList.remove('expanded');
            } else {
                statsGrid.classList.add('expanded');
                overallProgress.classList.add('expanded');
            }
        }

        function createChecklistItem(item, locationId, itemId) {
            const id = `${locationId}-${itemId}`;
            const itemDiv = document.createElement('div');
            itemDiv.className = 'checklist-item bg-gray-800 rounded-lg shadow-md';

            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = id;
            
            const isChecked = localStorage.getItem(id) === 'true';
            checkbox.checked = isChecked;
            checkbox.setAttribute('aria-describedby', `desc-${locationId}-${itemId}`);
            
            checkbox.addEventListener('change', (e) => {
                localStorage.setItem(id, e.target.checked);
                updateCounters();
            });

            // Pumpkin icon
            const pumpkinIcon = document.createElement('div');
            pumpkinIcon.className = 'pumpkin-icon cursor-pointer pumpkin-checkbox';
            pumpkinIcon.textContent = 'ðŸŽƒ';
            pumpkinIcon.onclick = () => {
                checkbox.checked = !checkbox.checked;
                localStorage.setItem(id, checkbox.checked);
                
                // Add animation class when checked
                if (checkbox.checked) {
                    pumpkinIcon.classList.add('checked');
                    
                    // Add success sparkles for completion
                    createSuccessSparkles(pumpkinIcon);
                    
                    // Remove animation class after animation completes
                    setTimeout(() => {
                        pumpkinIcon.classList.remove('checked');
                    }, 800);
                } else {
                    pumpkinIcon.classList.remove('checked');
                }
                updateCounters();
                
                // Check for milestone achievements
                setTimeout(() => checkMilestones(), 100);
            };

            const label = document.createElement('label');
            label.htmlFor = id;
            label.className = 'cursor-pointer';
            
            // Create content structure within label
            const titleElement = document.createElement('div');
            titleElement.textContent = item.name;
            titleElement.className = 'font-semibold leading-tight text-left';
            label.appendChild(titleElement);

            if (item.description) {
                const desc = document.createElement('p');
                desc.textContent = item.description;
                desc.className = 'text-xs text-gray-400 leading-relaxed text-left';
                desc.style.marginTop = '4px';
                label.appendChild(desc);
            }

            if (item.image) {
                const img = document.createElement('img');
                img.src = item.image;
                img.alt = item.name;
                img.className = 'w-24 h-24 rounded-md object-cover mt-2';
                label.appendChild(img);
            }

            if (item.endDate) {
                const displayEndDate = new Date(item.endDate + 'T00:00:00');
                const formattedDate = displayEndDate.toLocaleDateString('en-US', { month: 'short', day: 'numeric', timeZone: 'UTC' });
                const dateInfo = document.createElement('p');
                dateInfo.textContent = `Available until ${formattedDate}`;
                dateInfo.className = 'text-xs text-purple-400 mt-2 text-left';
                label.appendChild(dateInfo);
            }

            // Swipe delete background
            const swipeDeleteBg = document.createElement('div');
            swipeDeleteBg.className = 'swipe-delete-bg';
            swipeDeleteBg.innerHTML = 'ðŸ—‘ï¸ Delete';

            const removeButton = document.createElement('button');
            removeButton.className = 'remove-button';
            removeButton.innerHTML = `<svg width="18" height="18" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M20 20 L80 80 M20 80 L80 20" stroke="#B91C1C" stroke-width="14" stroke-linecap="round"/><path d="M78 82 C 75 88, 78 95, 84 95 C 90 95, 93 88, 88 82 Z" fill="#B91C1C"/><path d="M18 22 C 22 16, 18 10, 12 10 C 6 10, 3 16, 8 22 Z" fill="#B91C1C"/></svg>`;
            removeButton.setAttribute('aria-label', `Remove ${item.item} from list`);
            removeButton.setAttribute('title', `Remove ${item.item}`);
            
            const removeItem = () => {
                const actualItemId = `${locationId}-${itemId}`;
                undoStack.push({ element: itemDiv, parent: itemDiv.parentNode, nextSibling: itemDiv.nextSibling, itemId: actualItemId });
                undoButton.disabled = false;
                itemDiv.classList.add('removing');
                
                let removedItems = [];
                try {
                    removedItems = JSON.parse(localStorage.getItem('removedItems') || '[]');
                } catch (e) {
                    console.warn('Failed to parse removedItems from localStorage:', e);
                    localStorage.removeItem('removedItems');
                }
                removedItems.push(actualItemId);
                localStorage.setItem('removedItems', JSON.stringify(removedItems));
                
                setTimeout(() => {
                    itemDiv.remove();
                    updateCounters();
                }, 300);
            };

            removeButton.onclick = (e) => {
                e.stopPropagation();
                e.preventDefault();
                removeItem();
            };

            // Add swipe functionality
            let startX = 0;
            let currentX = 0;
            let isDragging = false;

            itemDiv.addEventListener('touchstart', (e) => {
                startX = e.touches[0].clientX;
                isDragging = false;
                // Prevent accidental swipes while scrolling
                itemDiv.style.transition = 'none';
            }, { passive: true });

            itemDiv.addEventListener('touchmove', (e) => {
                if (!startX) return;
                currentX = e.touches[0].clientX;
                const diffX = startX - currentX;
                
                if (Math.abs(diffX) > 10) {
                    isDragging = true;
                    if (diffX > 0 && diffX < 120) {
                        itemDiv.style.transform = `translateX(-${diffX}px)`;
                    }
                }
            }, { passive: true });

            itemDiv.addEventListener('touchend', (e) => {
                if (!isDragging || !startX) {
                    startX = 0;
                    return;
                }
                
                const diffX = startX - currentX;
                
                if (diffX > 80) {
                    // Swipe far enough - show delete state
                    itemDiv.classList.add('swiping');
                    itemDiv.style.transform = '';
                    
                    // Auto-hide after 3 seconds
                    setTimeout(() => {
                        if (itemDiv.classList.contains('swiping')) {
                            itemDiv.classList.remove('swiping');
                        }
                    }, 3000);
                } else {
                    // Snap back
                    itemDiv.style.transform = '';
                }
                
                // Re-enable transitions
                setTimeout(() => {
                    itemDiv.style.transition = '';
                }, 100);
                
                startX = 0;
                currentX = 0;
                isDragging = false;
            }, { passive: true });

            // Click on swipe delete background to remove
            swipeDeleteBg.onclick = (e) => {
                e.stopPropagation();
                removeItem();
            };

            itemDiv.appendChild(checkbox);
            itemDiv.appendChild(swipeDeleteBg);
            itemDiv.appendChild(pumpkinIcon);
            itemDiv.appendChild(label);
            itemDiv.appendChild(removeButton);

            return itemDiv;
        }

        function createRestaurantSection(restaurantName, items, parkId) {
            const sectionDiv = document.createElement('div');
            sectionDiv.className = 'restaurant-section bg-gray-800/50 p-2 rounded-md';
            
            const titleWrapper = document.createElement('div');
            titleWrapper.className = 'flex justify-between items-center mb-1';

            const title = document.createElement('h3');
            title.textContent = restaurantName;
            title.className = 'text-xl font-semibold text-purple-300';
            
            const removeRestaurantBtn = document.createElement('button');
            removeRestaurantBtn.className = 'remove-button';
            removeRestaurantBtn.innerHTML = `<svg width="24" height="24" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg"><path d="M20 20 L80 80 M20 80 L80 20" stroke="#B91C1C" stroke-width="14" stroke-linecap="round"/><path d="M78 82 C 75 88, 78 95, 84 95 C 90 95, 93 88, 88 82 Z" fill="#B91C1C"/><path d="M18 22 C 22 16, 18 10, 12 10 C 6 10, 3 16, 8 22 Z" fill="#B91C1C"/></svg>`;
            removeRestaurantBtn.onclick = () => {
                const restaurantId = `${parkId}-${restaurantName.replace(/\s+/g, '-')}`;
                undoStack.push({ element: sectionDiv, parent: sectionDiv.parentNode, nextSibling: sectionDiv.nextSibling, restaurantId });
                undoButton.disabled = false;
                sectionDiv.classList.add('removing');
                
                let removedRestaurants = [];
                try {
                    removedRestaurants = JSON.parse(localStorage.getItem('removedRestaurants') || '[]');
                } catch (e) {
                    console.warn('Failed to parse removedRestaurants from localStorage:', e);
                    localStorage.removeItem('removedRestaurants');
                }
                removedRestaurants.push(restaurantId);
                localStorage.setItem('removedRestaurants', JSON.stringify(removedRestaurants));
                
                setTimeout(() => {
                    sectionDiv.remove();
                    updateCounters();
                }, 300);
            };

            titleWrapper.appendChild(title);
            titleWrapper.appendChild(removeRestaurantBtn);
            sectionDiv.appendChild(titleWrapper);

            const itemsContainer = document.createElement('div');
            itemsContainer.className = 'space-y-1';
            
            const today = new Date();
            today.setHours(0, 0, 0, 0);

            let visibleItems = 0;
            const restaurantId = `${parkId}-${restaurantName.replace(/\s+/g, '-')}`;
            let removedRestaurants = [];
            try {
                removedRestaurants = JSON.parse(localStorage.getItem('removedRestaurants') || '[]');
            } catch (e) {
                console.warn('Failed to parse removedRestaurants from localStorage:', e);
                localStorage.removeItem('removedRestaurants');
            }
            if (removedRestaurants.includes(restaurantId)) {
                return null;
            }

            items.forEach((item, index) => {
                const endDate = new Date(item.endDate + 'T00:00:00');
                if (endDate >= today) {
                    const locationId = `${parkId}-${restaurantName.replace(/\s+/g, '-')}`;
                    const itemId = `${locationId}-${index}`;
                    
                    let removedItems = [];
                    try {
                        removedItems = JSON.parse(localStorage.getItem('removedItems') || '[]');
                    } catch (e) {
                        console.warn('Failed to parse removedItems from localStorage:', e);
                        localStorage.removeItem('removedItems');
                    }
                    if (!removedItems.includes(itemId)) {
                        itemsContainer.appendChild(createChecklistItem(item, locationId, index));
                        visibleItems++;
                    }
                }
            });

            if (visibleItems > 0) {
                sectionDiv.appendChild(itemsContainer);
                return sectionDiv;
            }
            return null;
        }

        function createParkSection(parkName, parkId, parkData) {
            const section = document.createElement('section');
            section.id = `${parkId}-section`;
            section.className = 'park-section';
            section.dataset.parkId = parkId;
            
            const titleContainer = document.createElement('div');
            titleContainer.className = 'park-section-header';
            titleContainer.title = 'Click to collapse/expand section';
            
            // Left side - just title
            const headerContent = document.createElement('div');
            headerContent.className = 'park-header-content';
            
            const title = document.createElement('h2');
            title.className = 'park-header-title';
            title.textContent = parkName;
            
            headerContent.appendChild(title);
            
            // Right side - progress and chevron icon
            const headerControls = document.createElement('div');
            headerControls.className = 'park-header-controls';
            
            const progressText = document.createElement('div');
            progressText.className = 'park-header-progress';
            progressText.id = `${parkId}-progress`;
            progressText.textContent = '0/0 (0%)';
            
            headerControls.appendChild(progressText);
            
            titleContainer.appendChild(headerContent);
            titleContainer.appendChild(headerControls);
            
            titleContainer.addEventListener('click', () => {
                const content = section.querySelector('.park-section-content');
                const isCollapsed = titleContainer.classList.toggle('collapsed');
                content.classList.toggle('collapsed', isCollapsed);
                
                let collapsedSections = [];
                try {
                    collapsedSections = JSON.parse(localStorage.getItem('collapsedSections') || '[]');
                } catch (e) {
                    console.warn('Failed to parse collapsedSections from localStorage:', e);
                    localStorage.removeItem('collapsedSections');
                }
                if (isCollapsed) {
                    if (!collapsedSections.includes(parkId)) {
                        collapsedSections.push(parkId);
                    }
                } else {
                    const index = collapsedSections.indexOf(parkId);
                    if (index > -1) {
                        collapsedSections.splice(index, 1);
                    }
                }
                localStorage.setItem('collapsedSections', JSON.stringify(collapsedSections));
            });
            
            section.appendChild(titleContainer);

            const listContainer = document.createElement('div');
            listContainer.className = 'park-section-content space-y-4';
            
            let collapsedSections = [];
            try {
                collapsedSections = JSON.parse(localStorage.getItem('collapsedSections') || '[]');
            } catch (e) {
                console.warn('Failed to parse collapsedSections from localStorage:', e);
                localStorage.removeItem('collapsedSections');
            }
            if (collapsedSections.includes(parkId)) {
                titleContainer.classList.add('collapsed');
                listContainer.classList.add('collapsed');
            }
            
            for (const restaurant in parkData) {
                const restaurantSection = createRestaurantSection(restaurant, parkData[restaurant], parkId);
                if (restaurantSection) {
                    listContainer.appendChild(restaurantSection);
                }
            }
            section.appendChild(listContainer);
            return section;
        }

        function populateChecklist() {
            const container = document.getElementById('checklist-container');
            container.innerHTML = '';
            
            container.appendChild(createParkSection('Disneyland Park', 'disneyland-park', foodieData['Disneyland Park']));
            container.appendChild(createParkSection('Disney California Adventure Park', 'disney-california-adventure-park', foodieData['Disney California Adventure Park']));
            container.appendChild(createParkSection('Hotels of the Disneyland Resort', 'hotels-of-the-disneyland-resort', foodieData['Hotels of the Disneyland Resort']));
            container.appendChild(createParkSection('Downtown Disney District', 'downtown-disney', foodieData['Downtown Disney District']));
            container.appendChild(createParkSection('Halloween Candy', 'halloween-candy', foodieData['Halloween Candy']));
            updateCounters();
            
            // Re-apply button effects to newly created elements
            setTimeout(() => {
                addButtonEffects();
                addMicroInteractions();
            }, 100);
        }

        function filterAndSearch() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const selectedPark = document.getElementById('park-filter').value;

            window.scrollTo({ top: 0, behavior: 'smooth' });

            document.querySelectorAll('.park-section').forEach(parkSection => {
                const parkId = parkSection.dataset.parkId;
                const parkMatchesFilter = selectedPark === 'all' || selectedPark === parkId;
                let parkHasVisibleContent = false;

                parkSection.querySelectorAll('.restaurant-section').forEach(restaurantSection => {
                    const restaurantName = restaurantSection.querySelector('h3').textContent.toLowerCase();
                    let restaurantHasVisibleContent = false;

                    restaurantSection.querySelectorAll('.checklist-item').forEach(item => {
                        const itemName = item.querySelector('label').textContent.toLowerCase();
                        const itemDescElement = item.querySelector('p.text-sm');
                        const itemDesc = itemDescElement ? itemDescElement.textContent.toLowerCase() : '';
                        const matchesSearch = itemName.includes(searchTerm) || restaurantName.includes(searchTerm) || itemDesc.includes(searchTerm);
                        
                        if (matchesSearch) {
                            item.classList.remove('hidden-section');
                            restaurantHasVisibleContent = true;
                        } else {
                            item.classList.add('hidden-section');
                        }
                    });

                    if (restaurantHasVisibleContent) {
                        restaurantSection.classList.remove('hidden-section');
                        parkHasVisibleContent = true;
                    } else {
                        restaurantSection.classList.add('hidden-section');
                    }
                });

                if (parkMatchesFilter && parkHasVisibleContent) {
                    parkSection.classList.remove('hidden-section');
                } else {
                    parkSection.classList.add('hidden-section');
                }
            });
            
        }

        function undoLastRemove() {
            if (undoStack.length === 0) return;
            const lastAction = undoStack.pop();
            
            lastAction.parent.insertBefore(lastAction.element, lastAction.nextSibling);
            
            if (lastAction.itemId) {
                let removedItems = [];
                try {
                    removedItems = JSON.parse(localStorage.getItem('removedItems') || '[]');
                } catch (e) {
                    console.warn('Failed to parse removedItems from localStorage:', e);
                    localStorage.removeItem('removedItems');
                }
                const index = removedItems.indexOf(lastAction.itemId);
                if (index > -1) {
                    removedItems.splice(index, 1);
                    localStorage.setItem('removedItems', JSON.stringify(removedItems));
                }
            }
            
            if (lastAction.restaurantId) {
                let removedRestaurants = [];
                try {
                    removedRestaurants = JSON.parse(localStorage.getItem('removedRestaurants') || '[]');
                } catch (e) {
                    console.warn('Failed to parse removedRestaurants from localStorage:', e);
                    localStorage.removeItem('removedRestaurants');
                }
                const index = removedRestaurants.indexOf(lastAction.restaurantId);
                if (index > -1) {
                    removedRestaurants.splice(index, 1);
                    localStorage.setItem('removedRestaurants', JSON.stringify(removedRestaurants));
                }
            }
            
            requestAnimationFrame(() => {
                lastAction.element.classList.remove('removing');
            });

            if (undoStack.length === 0) {
                undoButton.disabled = true;
            }
            updateCounters();
        }

        function restoreDefaults() {
            document.getElementById('search-input').value = '';
            document.getElementById('park-filter').value = 'all';
            localStorage.clear();
            populateChecklist();
            undoStack = [];
            undoButton.disabled = true;
            updateCounters();
        }

        window.onload = () => {
            populateChecklist();
            const searchInput = document.getElementById('search-input');
            const clearSearchBtn = document.getElementById('clear-search');
            
            if (!searchInput || !clearSearchBtn) {
                console.warn('Required elements not found:', { searchInput: !!searchInput, clearSearchBtn: !!clearSearchBtn });
                return;
            }
            
            searchInput.addEventListener('input', function() {
                filterAndSearch();
                // Show/hide clear button based on input content
                if (this.value.trim()) {
                    clearSearchBtn.style.display = 'block';
                    clearSearchBtn.style.opacity = '1';
                } else {
                    clearSearchBtn.style.display = 'none';
                    clearSearchBtn.style.opacity = '0';
                }
            });
            
            clearSearchBtn.addEventListener('click', function() {
                searchInput.value = '';
                this.style.display = 'none';
                this.style.opacity = '0';
                filterAndSearch();
                searchInput.focus();
            });
            
            const parkFilter = document.getElementById('park-filter');
            const restoreButton = document.getElementById('restore-button');
            
            if (parkFilter) {
                parkFilter.addEventListener('change', filterAndSearch);
            }
            if (undoButton) {
                undoButton.addEventListener('click', undoLastRemove);
            }
            if (restoreButton) {
                restoreButton.addEventListener('click', showWarningModal);
            }

            // Check if welcome modal should be shown
            const welcomeModalShown = localStorage.getItem('welcomeModalShown');
            if (!welcomeModalShown) {
                // Small delay to ensure page is fully loaded before showing modal
                setTimeout(() => {
                    showWelcomeModal();
                }, 100);
            }

            const scrollToTopBtn = document.getElementById('scroll-to-top');
            if (scrollToTopBtn) {
                scrollToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });

                window.addEventListener('scroll', () => {
                    if (window.pageYOffset > 200) {
                        scrollToTopBtn.classList.add('visible');
                    } else {
                        scrollToTopBtn.classList.remove('visible');
                    }
                });
            }

            // Initialize floating Halloween particles
            initHalloweenParticles();
            
            // Add enhanced button interactions
            addButtonEffects();
            
            
            // Add micro-interactions
            addMicroInteractions();
        };


        // Scroll-triggered animations


        // Success feedback animations
        function createSuccessSparkles(element) {
            const sparklesContainer = document.createElement('div');
            sparklesContainer.className = 'success-sparkles';
            
            element.style.position = 'relative';
            element.appendChild(sparklesContainer);

            const colors = ['orange', 'purple', 'gold'];
            const sparkleCount = 12;

            for (let i = 0; i < sparkleCount; i++) {
                const sparkle = document.createElement('div');
                sparkle.className = `sparkle ${colors[Math.floor(Math.random() * colors.length)]}`;
                
                // Random direction and distance
                const angle = (i / sparkleCount) * Math.PI * 2;
                const distance = 30 + Math.random() * 40;
                const x = Math.cos(angle) * distance;
                const y = Math.sin(angle) * distance;
                
                sparkle.style.setProperty('--spark-x', x + 'px');
                sparkle.style.setProperty('--spark-y', y + 'px');
                sparkle.style.animationDelay = Math.random() * 0.2 + 's';
                
                sparklesContainer.appendChild(sparkle);
            }

            // Clean up after animation
            setTimeout(() => {
                sparklesContainer.remove();
            }, 1500);
        }

        function checkMilestones() {
            // Get current progress
            const totalItems = document.querySelectorAll('.checklist-item input[type="checkbox"]').length;
            const checkedItems = document.querySelectorAll('.checklist-item input[type="checkbox"]:checked').length;
            const percentage = Math.round((checkedItems / totalItems) * 100);

            // Check for milestone achievements (25%, 50%, 75%, 100%)
            const milestones = [25, 50, 75, 100];
            const achievedMilestone = milestones.find(m => 
                percentage >= m && !localStorage.getItem(`milestone-${m}`)
            );

            if (achievedMilestone) {
                localStorage.setItem(`milestone-${achievedMilestone}`, 'true');
                celebrateMilestone(achievedMilestone);
            }
        }

        function celebrateMilestone(percentage) {
            // Animate the main progress bar
            const progressBars = document.querySelectorAll('.progress-bar');
            progressBars.forEach(bar => {
                bar.classList.add('milestone-achieved');
            });

            // Show celebration message
            const celebrationMsg = document.createElement('div');
            celebrationMsg.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(135deg, rgba(251, 146, 60, 0.95), rgba(168, 85, 247, 0.95));
                color: white;
                padding: 2rem;
                border-radius: 1rem;
                font-size: 1.5rem;
                font-weight: bold;
                text-align: center;
                z-index: 2000;
                animation: milestone-popup 3s ease-out forwards;
                box-shadow: 0 20px 40px rgba(0,0,0,0.5);
            `;
            celebrationMsg.innerHTML = `
                ðŸŽ‰ Milestone Achieved! ðŸŽ‰<br>
                <span style="font-size: 3rem;">ðŸŽƒ</span><br>
                ${percentage}% Complete!
            `;

            document.body.appendChild(celebrationMsg);

            // Remove celebration message
            setTimeout(() => {
                celebrationMsg.remove();
                progressBars.forEach(bar => {
                    bar.classList.remove('milestone-achieved');
                });
            }, 3000);
        }

        function celebrateParkCompletion(parkName, location) {
            // Animate the specific park section with extended glow
            const parkSection = document.getElementById(`${location}-section`);
            if (parkSection) {
                parkSection.classList.add('milestone-achieved');
                
                setTimeout(() => {
                    parkSection.classList.remove('milestone-achieved');
                }, 1500);
            }

            // Update the progress indicator with celebration styling
            const parkProgressElement = document.getElementById(`${location}-progress`);
            if (parkProgressElement) {
                // Add completion celebration to progress indicator
                parkProgressElement.style.cssText += `
                    background: linear-gradient(135deg, #fb923c, #fbbf24);
                    -webkit-background-clip: text;
                    -webkit-text-fill-color: transparent;
                    background-clip: text;
                    filter: drop-shadow(0 0 8px rgba(251, 146, 60, 0.8));
                    animation: milestone-achieved 2s ease-out;
                `;
                
                // Add completion emoji
                const originalText = parkProgressElement.textContent;
                parkProgressElement.innerHTML = `âœ¨ ${originalText} ðŸŽƒ`;
                
                // Store that this location is completed for future reference
                localStorage.setItem(`completed-${location}`, 'true');
            }
        }

        // Enhanced micro-interactions
        function addMicroInteractions() {
            // Add hover lift to buttons
            document.querySelectorAll('button, .action-button').forEach(btn => {
                btn.classList.add('hover-lift');
            });

            // Add glow to park headers
            document.querySelectorAll('.park-section-header').forEach(header => {
                header.classList.add('hover-glow');
            });

            // Add focus glow to inputs
            document.querySelectorAll('input, select').forEach(input => {
                input.classList.add('input-focus-glow');
            });

            // Add shimmer effect to main title
            const mainTitle = document.querySelector('h1');
            if (mainTitle) {
                mainTitle.classList.add('text-shimmer');
            }
        }

        // Enhanced Button Interactions
        function createRippleEffect(event) {
            const button = event.currentTarget;
            const rect = button.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = event.clientX - rect.left - size / 2;
            const y = event.clientY - rect.top - size / 2;
            
            const ripple = document.createElement('div');
            ripple.className = 'ripple';
            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            
            // Ensure button has ripple-container class
            if (!button.classList.contains('ripple-container')) {
                button.classList.add('ripple-container');
            }
            
            button.appendChild(ripple);
            
            // Remove ripple after animation
            setTimeout(() => {
                ripple.remove();
            }, 600);
        }
        
        function createParticleBurst(event) {
            if (!event || !event.currentTarget) {
                console.warn('Invalid event or target for particle burst');
                return;
            }
            const rect = event.currentTarget.getBoundingClientRect();
            if (!rect) {
                console.warn('Could not get bounding rect for particle burst');
                return;
            }
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            
            const burst = document.createElement('div');
            burst.className = 'particle-burst';
            burst.style.left = centerX + 'px';
            burst.style.top = centerY + 'px';
            document.body.appendChild(burst);
            
            // Create multiple particles
            for (let i = 0; i < 8; i++) {
                const particle = document.createElement('div');
                particle.className = `burst-particle ${Math.random() > 0.5 ? 'orange' : 'purple'}`;
                
                // Random direction
                const angle = (i / 8) * Math.PI * 2;
                const distance = 40 + Math.random() * 30;
                const dx = Math.cos(angle) * distance;
                const dy = Math.sin(angle) * distance;
                
                particle.style.setProperty('--dx', dx + 'px');
                particle.style.setProperty('--dy', dy + 'px');
                
                burst.appendChild(particle);
            }
            
            // Remove burst after animation
            setTimeout(() => {
                burst.remove();
            }, 800);
        }
        
        function addButtonEffects() {
            // Add ripple effects to buttons (only if not already added)
            const buttons = document.querySelectorAll('button:not([data-ripple]), .action-button:not([data-ripple]), .pumpkin-icon:not([data-ripple])');
            buttons.forEach(button => {
                button.addEventListener('click', createRippleEffect);
                button.setAttribute('data-ripple', 'true');
            });
            
            // Add particle bursts to special actions (only if not already added)
            const specialButtons = document.querySelectorAll('#restore-button:not([data-burst]), #undo-button:not([data-burst])');
            specialButtons.forEach(button => {
                button.addEventListener('click', createParticleBurst);
                button.setAttribute('data-burst', 'true');
            });
            
            // Add particle bursts to pumpkin clicks (when checking off items)
            const pumpkins = document.querySelectorAll('.pumpkin-icon:not([data-pumpkin-burst])');
            pumpkins.forEach(pumpkin => {
                pumpkin.addEventListener('click', (e) => {
                    // Small delay to let the checkbox state update first
                    setTimeout(() => {
                        const checkbox = pumpkin.parentElement.querySelector('input[type="checkbox"]');
                        if (checkbox && checkbox.checked) {
                            createParticleBurst(e);
                        }
                    }, 50);
                });
                pumpkin.setAttribute('data-pumpkin-burst', 'true');
            });
        }

        // Halloween Particles System
        function initHalloweenParticles() {
            const particleContainer = document.getElementById('halloween-particles');
            const particles = ['ðŸ¦‡', 'ðŸŽƒ', 'ðŸ‚', 'ðŸ', 'ðŸ•·ï¸'];
            const particleClasses = ['bat', 'pumpkin', 'leaf', 'leaf', 'bat'];
            
            function createParticle() {
                const particle = document.createElement('div');
                const randomIndex = Math.floor(Math.random() * particles.length);
                
                particle.className = `particle ${particleClasses[randomIndex]}`;
                particle.textContent = particles[randomIndex];
                
                // Random starting position (left to right)
                particle.style.left = Math.random() * 100 + '%';
                
                // Random animation duration (12-18 seconds)
                particle.style.animationDuration = (12 + Math.random() * 6) + 's';
                
                // Random delay before starting
                particle.style.animationDelay = Math.random() * 5 + 's';
                
                particleContainer.appendChild(particle);
                
                // Remove particle after animation completes
                setTimeout(() => {
                    if (particle.parentNode) {
                        particle.parentNode.removeChild(particle);
                    }
                }, 23000); // Max duration + delay
            }
            
            // Create initial particles
            for (let i = 0; i < 8; i++) {
                setTimeout(() => createParticle(), i * 2000);
            }
            
            // Continue creating particles every 3-5 seconds
            setInterval(() => {
                if (Math.random() > 0.3) { // 70% chance to create a particle
                    createParticle();
                }
            }, 3000 + Math.random() * 2000);
        }
    </script>
</body>
</html>
